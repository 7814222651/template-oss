/* This file is automatically updated by @npmcli/template-oss. Do not edit. */

var wo=Object.create;var Kt=Object.defineProperty;var yo=Object.getOwnPropertyDescriptor;var bo=Object.getOwnPropertyNames;var vo=Object.getPrototypeOf,So=Object.prototype.hasOwnProperty;var _o=(i,t,e)=>t in i?Kt(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var $=(i,t)=>()=>(i&&(t=i(i=0)),t);var T=(i,t)=>()=>(t||i((t={exports:{}}).exports,t),t.exports),Eo=(i,t)=>{for(var e in t)Kt(i,e,{get:t[e],enumerable:!0})},Ei=(i,t,e,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of bo(t))!So.call(i,r)&&r!==e&&Kt(i,r,{get:()=>t[r],enumerable:!(s=yo(t,r))||s.enumerable});return i};var Ss=(i,t,e)=>(e=i!=null?wo(vo(i)):{},Ei(t||!i||!i.__esModule?Kt(e,"default",{value:i,enumerable:!0}):e,i)),Oo=i=>Ei(Kt({},"__esModule",{value:!0}),i);var Oi=(i,t,e)=>(_o(i,typeof t!="symbol"?t+"":t,e),e),_s=(i,t,e)=>{if(!t.has(i))throw TypeError("Cannot "+e)};var p=(i,t,e)=>(_s(i,t,"read from private field"),e?e.call(i):t.get(i)),F=(i,t,e)=>{if(t.has(i))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(i):t.set(i,e)},P=(i,t,e,s)=>(_s(i,t,"write to private field"),s?s.call(i,e):t.set(i,e),e);var wt=(i,t,e)=>(_s(i,t,"access private method"),e);var Re=T(Ft=>{"use strict";Object.defineProperty(Ft,"__esModule",{value:!0});Ft.toCommandProperties=Ft.toCommandValue=void 0;function To(i){return i==null?"":typeof i=="string"||i instanceof String?i:JSON.stringify(i)}Ft.toCommandValue=To;function Ro(i){return Object.keys(i).length?{title:i.title,file:i.file,line:i.startLine,endLine:i.endLine,col:i.startColumn,endColumn:i.endColumn}:{}}Ft.toCommandProperties=Ro});var xi=T(K=>{"use strict";var Ao=K&&K.__createBinding||(Object.create?function(i,t,e,s){s===void 0&&(s=e),Object.defineProperty(i,s,{enumerable:!0,get:function(){return t[e]}})}:function(i,t,e,s){s===void 0&&(s=e),i[s]=t[e]}),xo=K&&K.__setModuleDefault||(Object.create?function(i,t){Object.defineProperty(i,"default",{enumerable:!0,value:t})}:function(i,t){i.default=t}),Po=K&&K.__importStar||function(i){if(i&&i.__esModule)return i;var t={};if(i!=null)for(var e in i)e!=="default"&&Object.hasOwnProperty.call(i,e)&&Ao(t,i,e);return xo(t,i),t};Object.defineProperty(K,"__esModule",{value:!0});K.issue=K.issueCommand=void 0;var Co=Po(require("os")),Ri=Re();function Ai(i,t,e){let s=new Es(i,t,e);process.stdout.write(s.toString()+Co.EOL)}K.issueCommand=Ai;function ko(i,t=""){Ai(i,{},t)}K.issue=ko;var Ti="::",Es=class{constructor(t,e,s){t||(t="missing.command"),this.command=t,this.properties=e,this.message=s}toString(){let t=Ti+this.command;if(this.properties&&Object.keys(this.properties).length>0){t+=" ";let e=!0;for(let s in this.properties)if(this.properties.hasOwnProperty(s)){let r=this.properties[s];r&&(e?e=!1:t+=",",t+=`${s}=${jo(r)}`)}}return t+=`${Ti}${Mo(this.message)}`,t}};function Mo(i){return Ri.toCommandValue(i).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function jo(i){return Ri.toCommandValue(i).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}});function Yt(){return Ae>xe.length-16&&(Pi.default.randomFillSync(xe),Ae=0),xe.slice(Ae,Ae+=16)}var Pi,xe,Ae,Os=$(()=>{Pi=Ss(require("crypto")),xe=new Uint8Array(256),Ae=xe.length});var Ci,ki=$(()=>{Ci=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function Do(i){return typeof i=="string"&&Ci.test(i)}var yt,Xt=$(()=>{ki();yt=Do});function No(i,t=0){let e=(U[i[t+0]]+U[i[t+1]]+U[i[t+2]]+U[i[t+3]]+"-"+U[i[t+4]]+U[i[t+5]]+"-"+U[i[t+6]]+U[i[t+7]]+"-"+U[i[t+8]]+U[i[t+9]]+"-"+U[i[t+10]]+U[i[t+11]]+U[i[t+12]]+U[i[t+13]]+U[i[t+14]]+U[i[t+15]]).toLowerCase();if(!yt(e))throw TypeError("Stringified UUID is invalid");return e}var U,bt,Qt=$(()=>{Xt();U=[];for(let i=0;i<256;++i)U.push((i+256).toString(16).substr(1));bt=No});function Lo(i,t,e){let s=t&&e||0,r=t||new Array(16);i=i||{};let n=i.node||Mi,o=i.clockseq!==void 0?i.clockseq:Ts;if(n==null||o==null){let f=i.random||(i.rng||Yt)();n==null&&(n=Mi=[f[0]|1,f[1],f[2],f[3],f[4],f[5]]),o==null&&(o=Ts=(f[6]<<8|f[7])&16383)}let h=i.msecs!==void 0?i.msecs:Date.now(),a=i.nsecs!==void 0?i.nsecs:As+1,l=h-Rs+(a-As)/1e4;if(l<0&&i.clockseq===void 0&&(o=o+1&16383),(l<0||h>Rs)&&i.nsecs===void 0&&(a=0),a>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Rs=h,As=a,Ts=o,h+=122192928e5;let c=((h&268435455)*1e4+a)%4294967296;r[s++]=c>>>24&255,r[s++]=c>>>16&255,r[s++]=c>>>8&255,r[s++]=c&255;let u=h/4294967296*1e4&268435455;r[s++]=u>>>8&255,r[s++]=u&255,r[s++]=u>>>24&15|16,r[s++]=u>>>16&255,r[s++]=o>>>8|128,r[s++]=o&255;for(let f=0;f<6;++f)r[s+f]=n[f];return t||bt(r)}var Mi,Ts,Rs,As,ji,Di=$(()=>{Os();Qt();Rs=0,As=0;ji=Lo});function Fo(i){if(!yt(i))throw TypeError("Invalid UUID");let t,e=new Uint8Array(16);return e[0]=(t=parseInt(i.slice(0,8),16))>>>24,e[1]=t>>>16&255,e[2]=t>>>8&255,e[3]=t&255,e[4]=(t=parseInt(i.slice(9,13),16))>>>8,e[5]=t&255,e[6]=(t=parseInt(i.slice(14,18),16))>>>8,e[7]=t&255,e[8]=(t=parseInt(i.slice(19,23),16))>>>8,e[9]=t&255,e[10]=(t=parseInt(i.slice(24,36),16))/1099511627776&255,e[11]=t/4294967296&255,e[12]=t>>>24&255,e[13]=t>>>16&255,e[14]=t>>>8&255,e[15]=t&255,e}var Pe,xs=$(()=>{Xt();Pe=Fo});function Bo(i){i=unescape(encodeURIComponent(i));let t=[];for(let e=0;e<i.length;++e)t.push(i.charCodeAt(e));return t}function Ce(i,t,e){function s(r,n,o,h){if(typeof r=="string"&&(r=Bo(r)),typeof n=="string"&&(n=Pe(n)),n.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let a=new Uint8Array(16+r.length);if(a.set(n),a.set(r,n.length),a=e(a),a[6]=a[6]&15|t,a[8]=a[8]&63|128,o){h=h||0;for(let l=0;l<16;++l)o[h+l]=a[l];return o}return bt(a)}try{s.name=i}catch{}return s.DNS=Io,s.URL=Uo,s}var Io,Uo,Ps=$(()=>{Qt();xs();Io="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Uo="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function qo(i){return Array.isArray(i)?i=Buffer.from(i):typeof i=="string"&&(i=Buffer.from(i,"utf8")),Ni.default.createHash("md5").update(i).digest()}var Ni,Li,Fi=$(()=>{Ni=Ss(require("crypto"));Li=qo});var Wo,Bi,Ii=$(()=>{Ps();Fi();Wo=Ce("v3",48,Li),Bi=Wo});function $o(i,t,e){i=i||{};let s=i.random||(i.rng||Yt)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,t){e=e||0;for(let r=0;r<16;++r)t[e+r]=s[r];return t}return bt(s)}var Ui,qi=$(()=>{Os();Qt();Ui=$o});function Go(i){return Array.isArray(i)?i=Buffer.from(i):typeof i=="string"&&(i=Buffer.from(i,"utf8")),Wi.default.createHash("sha1").update(i).digest()}var Wi,$i,Gi=$(()=>{Wi=Ss(require("crypto"));$i=Go});var zo,zi,Vi=$(()=>{Ps();Gi();zo=Ce("v5",80,$i),zi=zo});var Hi,Ji=$(()=>{Hi="00000000-0000-0000-0000-000000000000"});function Vo(i){if(!yt(i))throw TypeError("Invalid UUID");return parseInt(i.substr(14,1),16)}var Ki,Yi=$(()=>{Xt();Ki=Vo});var Xi={};Eo(Xi,{NIL:()=>Hi,parse:()=>Pe,stringify:()=>bt,v1:()=>ji,v3:()=>Bi,v4:()=>Ui,v5:()=>zi,validate:()=>yt,version:()=>Ki});var Qi=$(()=>{Di();Ii();qi();Vi();Ji();Yi();Xt();Qt();xs()});var sr=T(Y=>{"use strict";var Ho=Y&&Y.__createBinding||(Object.create?function(i,t,e,s){s===void 0&&(s=e),Object.defineProperty(i,s,{enumerable:!0,get:function(){return t[e]}})}:function(i,t,e,s){s===void 0&&(s=e),i[s]=t[e]}),Jo=Y&&Y.__setModuleDefault||(Object.create?function(i,t){Object.defineProperty(i,"default",{enumerable:!0,value:t})}:function(i,t){i.default=t}),tr=Y&&Y.__importStar||function(i){if(i&&i.__esModule)return i;var t={};if(i!=null)for(var e in i)e!=="default"&&Object.hasOwnProperty.call(i,e)&&Ho(t,i,e);return Jo(t,i),t};Object.defineProperty(Y,"__esModule",{value:!0});Y.prepareKeyValueMessage=Y.issueFileCommand=void 0;var Zi=tr(require("fs")),Cs=tr(require("os")),Ko=(Qi(),Oo(Xi)),er=Re();function Yo(i,t){let e=process.env[`GITHUB_${i}`];if(!e)throw new Error(`Unable to find environment variable for file command ${i}`);if(!Zi.existsSync(e))throw new Error(`Missing file at path: ${e}`);Zi.appendFileSync(e,`${er.toCommandValue(t)}${Cs.EOL}`,{encoding:"utf8"})}Y.issueFileCommand=Yo;function Xo(i,t){let e=`ghadelimiter_${Ko.v4()}`,s=er.toCommandValue(t);if(i.includes(e))throw new Error(`Unexpected input: name should not contain the delimiter "${e}"`);if(s.includes(e))throw new Error(`Unexpected input: value should not contain the delimiter "${e}"`);return`${i}<<${e}${Cs.EOL}${s}${Cs.EOL}${e}`}Y.prepareKeyValueMessage=Xo});var rr=T(Bt=>{"use strict";Object.defineProperty(Bt,"__esModule",{value:!0});Bt.checkBypass=Bt.getProxyUrl=void 0;function Qo(i){let t=i.protocol==="https:";if(ir(i))return;let e=(()=>t?process.env.https_proxy||process.env.HTTPS_PROXY:process.env.http_proxy||process.env.HTTP_PROXY)();if(e)return new URL(e)}Bt.getProxyUrl=Qo;function ir(i){if(!i.hostname)return!1;let t=i.hostname;if(Zo(t))return!0;let e=process.env.no_proxy||process.env.NO_PROXY||"";if(!e)return!1;let s;i.port?s=Number(i.port):i.protocol==="http:"?s=80:i.protocol==="https:"&&(s=443);let r=[i.hostname.toUpperCase()];typeof s=="number"&&r.push(`${r[0]}:${s}`);for(let n of e.split(",").map(o=>o.trim().toUpperCase()).filter(o=>o))if(n==="*"||r.some(o=>o===n||o.endsWith(`.${n}`)||n.startsWith(".")&&o.endsWith(`${n}`)))return!0;return!1}Bt.checkBypass=ir;function Zo(i){let t=i.toLowerCase();return t==="localhost"||t.startsWith("127.")||t.startsWith("[::1]")||t.startsWith("[0:0:0:0:0:0:0:1]")}});var hr=T(It=>{"use strict";var nu=require("net"),ta=require("tls"),ks=require("http"),nr=require("https"),ea=require("events"),ou=require("assert"),sa=require("util");It.httpOverHttp=ia;It.httpsOverHttp=ra;It.httpOverHttps=na;It.httpsOverHttps=oa;function ia(i){var t=new lt(i);return t.request=ks.request,t}function ra(i){var t=new lt(i);return t.request=ks.request,t.createSocket=or,t.defaultPort=443,t}function na(i){var t=new lt(i);return t.request=nr.request,t}function oa(i){var t=new lt(i);return t.request=nr.request,t.createSocket=or,t.defaultPort=443,t}function lt(i){var t=this;t.options=i||{},t.proxyOptions=t.options.proxy||{},t.maxSockets=t.options.maxSockets||ks.Agent.defaultMaxSockets,t.requests=[],t.sockets=[],t.on("free",function(s,r,n,o){for(var h=ar(r,n,o),a=0,l=t.requests.length;a<l;++a){var c=t.requests[a];if(c.host===h.host&&c.port===h.port){t.requests.splice(a,1),c.request.onSocket(s);return}}s.destroy(),t.removeSocket(s)})}sa.inherits(lt,ea.EventEmitter);lt.prototype.addRequest=function(t,e,s,r){var n=this,o=Ms({request:t},n.options,ar(e,s,r));if(n.sockets.length>=this.maxSockets){n.requests.push(o);return}n.createSocket(o,function(h){h.on("free",a),h.on("close",l),h.on("agentRemove",l),t.onSocket(h);function a(){n.emit("free",h,o)}function l(c){n.removeSocket(h),h.removeListener("free",a),h.removeListener("close",l),h.removeListener("agentRemove",l)}})};lt.prototype.createSocket=function(t,e){var s=this,r={};s.sockets.push(r);var n=Ms({},s.proxyOptions,{method:"CONNECT",path:t.host+":"+t.port,agent:!1,headers:{host:t.host+":"+t.port}});t.localAddress&&(n.localAddress=t.localAddress),n.proxyAuth&&(n.headers=n.headers||{},n.headers["Proxy-Authorization"]="Basic "+new Buffer(n.proxyAuth).toString("base64")),vt("making CONNECT request");var o=s.request(n);o.useChunkedEncodingByDefault=!1,o.once("response",h),o.once("upgrade",a),o.once("connect",l),o.once("error",c),o.end();function h(u){u.upgrade=!0}function a(u,f,m){process.nextTick(function(){l(u,f,m)})}function l(u,f,m){if(o.removeAllListeners(),f.removeAllListeners(),u.statusCode!==200){vt("tunneling socket could not be established, statusCode=%d",u.statusCode),f.destroy();var v=new Error("tunneling socket could not be established, statusCode="+u.statusCode);v.code="ECONNRESET",t.request.emit("error",v),s.removeSocket(r);return}if(m.length>0){vt("got illegal response body from proxy"),f.destroy();var v=new Error("got illegal response body from proxy");v.code="ECONNRESET",t.request.emit("error",v),s.removeSocket(r);return}return vt("tunneling connection has established"),s.sockets[s.sockets.indexOf(r)]=f,e(f)}function c(u){o.removeAllListeners(),vt(`tunneling socket could not be established, cause=%s
`,u.message,u.stack);var f=new Error("tunneling socket could not be established, cause="+u.message);f.code="ECONNRESET",t.request.emit("error",f),s.removeSocket(r)}};lt.prototype.removeSocket=function(t){var e=this.sockets.indexOf(t);if(e!==-1){this.sockets.splice(e,1);var s=this.requests.shift();s&&this.createSocket(s,function(r){s.request.onSocket(r)})}};function or(i,t){var e=this;lt.prototype.createSocket.call(e,i,function(s){var r=i.request.getHeader("host"),n=Ms({},e.options,{socket:s,servername:r?r.replace(/:.*$/,""):i.host}),o=ta.connect(0,n);e.sockets[e.sockets.indexOf(s)]=o,t(o)})}function ar(i,t,e){return typeof i=="string"?{host:i,port:t,localAddress:e}:i}function Ms(i){for(var t=1,e=arguments.length;t<e;++t){var s=arguments[t];if(typeof s=="object")for(var r=Object.keys(s),n=0,o=r.length;n<o;++n){var h=r[n];s[h]!==void 0&&(i[h]=s[h])}}return i}var vt;process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?vt=function(){var i=Array.prototype.slice.call(arguments);typeof i[0]=="string"?i[0]="TUNNEL: "+i[0]:i.unshift("TUNNEL:"),console.error.apply(console,i)}:vt=function(){};It.debug=vt});var cr=T((hu,lr)=>{lr.exports=hr()});var fr=T(A=>{"use strict";var aa=A&&A.__createBinding||(Object.create?function(i,t,e,s){s===void 0&&(s=e),Object.defineProperty(i,s,{enumerable:!0,get:function(){return t[e]}})}:function(i,t,e,s){s===void 0&&(s=e),i[s]=t[e]}),ha=A&&A.__setModuleDefault||(Object.create?function(i,t){Object.defineProperty(i,"default",{enumerable:!0,value:t})}:function(i,t){i.default=t}),Ne=A&&A.__importStar||function(i){if(i&&i.__esModule)return i;var t={};if(i!=null)for(var e in i)e!=="default"&&Object.hasOwnProperty.call(i,e)&&aa(t,i,e);return ha(t,i),t},N=A&&A.__awaiter||function(i,t,e,s){function r(n){return n instanceof e?n:new e(function(o){o(n)})}return new(e||(e=Promise))(function(n,o){function h(c){try{l(s.next(c))}catch(u){o(u)}}function a(c){try{l(s.throw(c))}catch(u){o(u)}}function l(c){c.done?n(c.value):r(c.value).then(h,a)}l((s=s.apply(i,t||[])).next())})};Object.defineProperty(A,"__esModule",{value:!0});A.HttpClient=A.isHttps=A.HttpClientResponse=A.HttpClientError=A.getProxyUrl=A.MediaTypes=A.Headers=A.HttpCodes=void 0;var ke=Ne(require("http")),js=Ne(require("https")),ur=Ne(rr()),Me=Ne(cr()),st;(function(i){i[i.OK=200]="OK",i[i.MultipleChoices=300]="MultipleChoices",i[i.MovedPermanently=301]="MovedPermanently",i[i.ResourceMoved=302]="ResourceMoved",i[i.SeeOther=303]="SeeOther",i[i.NotModified=304]="NotModified",i[i.UseProxy=305]="UseProxy",i[i.SwitchProxy=306]="SwitchProxy",i[i.TemporaryRedirect=307]="TemporaryRedirect",i[i.PermanentRedirect=308]="PermanentRedirect",i[i.BadRequest=400]="BadRequest",i[i.Unauthorized=401]="Unauthorized",i[i.PaymentRequired=402]="PaymentRequired",i[i.Forbidden=403]="Forbidden",i[i.NotFound=404]="NotFound",i[i.MethodNotAllowed=405]="MethodNotAllowed",i[i.NotAcceptable=406]="NotAcceptable",i[i.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",i[i.RequestTimeout=408]="RequestTimeout",i[i.Conflict=409]="Conflict",i[i.Gone=410]="Gone",i[i.TooManyRequests=429]="TooManyRequests",i[i.InternalServerError=500]="InternalServerError",i[i.NotImplemented=501]="NotImplemented",i[i.BadGateway=502]="BadGateway",i[i.ServiceUnavailable=503]="ServiceUnavailable",i[i.GatewayTimeout=504]="GatewayTimeout"})(st=A.HttpCodes||(A.HttpCodes={}));var G;(function(i){i.Accept="accept",i.ContentType="content-type"})(G=A.Headers||(A.Headers={}));var St;(function(i){i.ApplicationJson="application/json"})(St=A.MediaTypes||(A.MediaTypes={}));function la(i){let t=ur.getProxyUrl(new URL(i));return t?t.href:""}A.getProxyUrl=la;var ca=[st.MovedPermanently,st.ResourceMoved,st.SeeOther,st.TemporaryRedirect,st.PermanentRedirect],ua=[st.BadGateway,st.ServiceUnavailable,st.GatewayTimeout],fa=["OPTIONS","GET","DELETE","HEAD"],da=10,pa=5,Ut=class extends Error{constructor(t,e){super(t),this.name="HttpClientError",this.statusCode=e,Object.setPrototypeOf(this,Ut.prototype)}};A.HttpClientError=Ut;var De=class{constructor(t){this.message=t}readBody(){return N(this,void 0,void 0,function*(){return new Promise(t=>N(this,void 0,void 0,function*(){let e=Buffer.alloc(0);this.message.on("data",s=>{e=Buffer.concat([e,s])}),this.message.on("end",()=>{t(e.toString())})}))})}};A.HttpClientResponse=De;function ma(i){return new URL(i).protocol==="https:"}A.isHttps=ma;var Ds=class{constructor(t,e,s){this._ignoreSslError=!1,this._allowRedirects=!0,this._allowRedirectDowngrade=!1,this._maxRedirects=50,this._allowRetries=!1,this._maxRetries=1,this._keepAlive=!1,this._disposed=!1,this.userAgent=t,this.handlers=e||[],this.requestOptions=s,s&&(s.ignoreSslError!=null&&(this._ignoreSslError=s.ignoreSslError),this._socketTimeout=s.socketTimeout,s.allowRedirects!=null&&(this._allowRedirects=s.allowRedirects),s.allowRedirectDowngrade!=null&&(this._allowRedirectDowngrade=s.allowRedirectDowngrade),s.maxRedirects!=null&&(this._maxRedirects=Math.max(s.maxRedirects,0)),s.keepAlive!=null&&(this._keepAlive=s.keepAlive),s.allowRetries!=null&&(this._allowRetries=s.allowRetries),s.maxRetries!=null&&(this._maxRetries=s.maxRetries))}options(t,e){return N(this,void 0,void 0,function*(){return this.request("OPTIONS",t,null,e||{})})}get(t,e){return N(this,void 0,void 0,function*(){return this.request("GET",t,null,e||{})})}del(t,e){return N(this,void 0,void 0,function*(){return this.request("DELETE",t,null,e||{})})}post(t,e,s){return N(this,void 0,void 0,function*(){return this.request("POST",t,e,s||{})})}patch(t,e,s){return N(this,void 0,void 0,function*(){return this.request("PATCH",t,e,s||{})})}put(t,e,s){return N(this,void 0,void 0,function*(){return this.request("PUT",t,e,s||{})})}head(t,e){return N(this,void 0,void 0,function*(){return this.request("HEAD",t,null,e||{})})}sendStream(t,e,s,r){return N(this,void 0,void 0,function*(){return this.request(t,e,s,r)})}getJson(t,e={}){return N(this,void 0,void 0,function*(){e[G.Accept]=this._getExistingOrDefaultHeader(e,G.Accept,St.ApplicationJson);let s=yield this.get(t,e);return this._processResponse(s,this.requestOptions)})}postJson(t,e,s={}){return N(this,void 0,void 0,function*(){let r=JSON.stringify(e,null,2);s[G.Accept]=this._getExistingOrDefaultHeader(s,G.Accept,St.ApplicationJson),s[G.ContentType]=this._getExistingOrDefaultHeader(s,G.ContentType,St.ApplicationJson);let n=yield this.post(t,r,s);return this._processResponse(n,this.requestOptions)})}putJson(t,e,s={}){return N(this,void 0,void 0,function*(){let r=JSON.stringify(e,null,2);s[G.Accept]=this._getExistingOrDefaultHeader(s,G.Accept,St.ApplicationJson),s[G.ContentType]=this._getExistingOrDefaultHeader(s,G.ContentType,St.ApplicationJson);let n=yield this.put(t,r,s);return this._processResponse(n,this.requestOptions)})}patchJson(t,e,s={}){return N(this,void 0,void 0,function*(){let r=JSON.stringify(e,null,2);s[G.Accept]=this._getExistingOrDefaultHeader(s,G.Accept,St.ApplicationJson),s[G.ContentType]=this._getExistingOrDefaultHeader(s,G.ContentType,St.ApplicationJson);let n=yield this.patch(t,r,s);return this._processResponse(n,this.requestOptions)})}request(t,e,s,r){return N(this,void 0,void 0,function*(){if(this._disposed)throw new Error("Client has already been disposed.");let n=new URL(e),o=this._prepareRequest(t,n,r),h=this._allowRetries&&fa.includes(t)?this._maxRetries+1:1,a=0,l;do{if(l=yield this.requestRaw(o,s),l&&l.message&&l.message.statusCode===st.Unauthorized){let u;for(let f of this.handlers)if(f.canHandleAuthentication(l)){u=f;break}return u?u.handleAuthentication(this,o,s):l}let c=this._maxRedirects;for(;l.message.statusCode&&ca.includes(l.message.statusCode)&&this._allowRedirects&&c>0;){let u=l.message.headers.location;if(!u)break;let f=new URL(u);if(n.protocol==="https:"&&n.protocol!==f.protocol&&!this._allowRedirectDowngrade)throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.");if(yield l.readBody(),f.hostname!==n.hostname)for(let m in r)m.toLowerCase()==="authorization"&&delete r[m];o=this._prepareRequest(t,f,r),l=yield this.requestRaw(o,s),c--}if(!l.message.statusCode||!ua.includes(l.message.statusCode))return l;a+=1,a<h&&(yield l.readBody(),yield this._performExponentialBackoff(a))}while(a<h);return l})}dispose(){this._agent&&this._agent.destroy(),this._disposed=!0}requestRaw(t,e){return N(this,void 0,void 0,function*(){return new Promise((s,r)=>{function n(o,h){o?r(o):h?s(h):r(new Error("Unknown error"))}this.requestRawWithCallback(t,e,n)})})}requestRawWithCallback(t,e,s){typeof e=="string"&&(t.options.headers||(t.options.headers={}),t.options.headers["Content-Length"]=Buffer.byteLength(e,"utf8"));let r=!1;function n(a,l){r||(r=!0,s(a,l))}let o=t.httpModule.request(t.options,a=>{let l=new De(a);n(void 0,l)}),h;o.on("socket",a=>{h=a}),o.setTimeout(this._socketTimeout||3*6e4,()=>{h&&h.end(),n(new Error(`Request timeout: ${t.options.path}`))}),o.on("error",function(a){n(a)}),e&&typeof e=="string"&&o.write(e,"utf8"),e&&typeof e!="string"?(e.on("close",function(){o.end()}),e.pipe(o)):o.end()}getAgent(t){let e=new URL(t);return this._getAgent(e)}_prepareRequest(t,e,s){let r={};r.parsedUrl=e;let n=r.parsedUrl.protocol==="https:";r.httpModule=n?js:ke;let o=n?443:80;if(r.options={},r.options.host=r.parsedUrl.hostname,r.options.port=r.parsedUrl.port?parseInt(r.parsedUrl.port):o,r.options.path=(r.parsedUrl.pathname||"")+(r.parsedUrl.search||""),r.options.method=t,r.options.headers=this._mergeHeaders(s),this.userAgent!=null&&(r.options.headers["user-agent"]=this.userAgent),r.options.agent=this._getAgent(r.parsedUrl),this.handlers)for(let h of this.handlers)h.prepareRequest(r.options);return r}_mergeHeaders(t){return this.requestOptions&&this.requestOptions.headers?Object.assign({},je(this.requestOptions.headers),je(t||{})):je(t||{})}_getExistingOrDefaultHeader(t,e,s){let r;return this.requestOptions&&this.requestOptions.headers&&(r=je(this.requestOptions.headers)[e]),t[e]||r||s}_getAgent(t){let e,s=ur.getProxyUrl(t),r=s&&s.hostname;if(this._keepAlive&&r&&(e=this._proxyAgent),this._keepAlive&&!r&&(e=this._agent),e)return e;let n=t.protocol==="https:",o=100;if(this.requestOptions&&(o=this.requestOptions.maxSockets||ke.globalAgent.maxSockets),s&&s.hostname){let h={maxSockets:o,keepAlive:this._keepAlive,proxy:Object.assign(Object.assign({},(s.username||s.password)&&{proxyAuth:`${s.username}:${s.password}`}),{host:s.hostname,port:s.port})},a,l=s.protocol==="https:";n?a=l?Me.httpsOverHttps:Me.httpsOverHttp:a=l?Me.httpOverHttps:Me.httpOverHttp,e=a(h),this._proxyAgent=e}if(this._keepAlive&&!e){let h={keepAlive:this._keepAlive,maxSockets:o};e=n?new js.Agent(h):new ke.Agent(h),this._agent=e}return e||(e=n?js.globalAgent:ke.globalAgent),n&&this._ignoreSslError&&(e.options=Object.assign(e.options||{},{rejectUnauthorized:!1})),e}_performExponentialBackoff(t){return N(this,void 0,void 0,function*(){t=Math.min(da,t);let e=pa*Math.pow(2,t);return new Promise(s=>setTimeout(()=>s(),e))})}_processResponse(t,e){return N(this,void 0,void 0,function*(){return new Promise((s,r)=>N(this,void 0,void 0,function*(){let n=t.message.statusCode||0,o={statusCode:n,result:null,headers:{}};n===st.NotFound&&s(o);function h(c,u){if(typeof u=="string"){let f=new Date(u);if(!isNaN(f.valueOf()))return f}return u}let a,l;try{l=yield t.readBody(),l&&l.length>0&&(e&&e.deserializeDates?a=JSON.parse(l,h):a=JSON.parse(l),o.result=a),o.headers=t.message.headers}catch{}if(n>299){let c;a&&a.message?c=a.message:l&&l.length>0?c=l:c=`Failed request: (${n})`;let u=new Ut(c,n);u.result=o.result,r(u)}else s(o)}))})}};A.HttpClient=Ds;var je=i=>Object.keys(i).reduce((t,e)=>(t[e.toLowerCase()]=i[e],t),{})});var dr=T(nt=>{"use strict";var Bs=nt&&nt.__awaiter||function(i,t,e,s){function r(n){return n instanceof e?n:new e(function(o){o(n)})}return new(e||(e=Promise))(function(n,o){function h(c){try{l(s.next(c))}catch(u){o(u)}}function a(c){try{l(s.throw(c))}catch(u){o(u)}}function l(c){c.done?n(c.value):r(c.value).then(h,a)}l((s=s.apply(i,t||[])).next())})};Object.defineProperty(nt,"__esModule",{value:!0});nt.PersonalAccessTokenCredentialHandler=nt.BearerCredentialHandler=nt.BasicCredentialHandler=void 0;var Ns=class{constructor(t,e){this.username=t,this.password=e}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Basic ${Buffer.from(`${this.username}:${this.password}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return Bs(this,void 0,void 0,function*(){throw new Error("not implemented")})}};nt.BasicCredentialHandler=Ns;var Ls=class{constructor(t){this.token=t}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Bearer ${this.token}`}canHandleAuthentication(){return!1}handleAuthentication(){return Bs(this,void 0,void 0,function*(){throw new Error("not implemented")})}};nt.BearerCredentialHandler=Ls;var Fs=class{constructor(t){this.token=t}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Basic ${Buffer.from(`PAT:${this.token}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return Bs(this,void 0,void 0,function*(){throw new Error("not implemented")})}};nt.PersonalAccessTokenCredentialHandler=Fs});var gr=T(qt=>{"use strict";var pr=qt&&qt.__awaiter||function(i,t,e,s){function r(n){return n instanceof e?n:new e(function(o){o(n)})}return new(e||(e=Promise))(function(n,o){function h(c){try{l(s.next(c))}catch(u){o(u)}}function a(c){try{l(s.throw(c))}catch(u){o(u)}}function l(c){c.done?n(c.value):r(c.value).then(h,a)}l((s=s.apply(i,t||[])).next())})};Object.defineProperty(qt,"__esModule",{value:!0});qt.OidcClient=void 0;var ga=fr(),wa=dr(),mr=Is(),_t=class{static createHttpClient(t=!0,e=10){let s={allowRetries:t,maxRetries:e};return new ga.HttpClient("actions/oidc-client",[new wa.BearerCredentialHandler(_t.getRequestToken())],s)}static getRequestToken(){let t=process.env.ACTIONS_ID_TOKEN_REQUEST_TOKEN;if(!t)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable");return t}static getIDTokenUrl(){let t=process.env.ACTIONS_ID_TOKEN_REQUEST_URL;if(!t)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable");return t}static getCall(t){var e;return pr(this,void 0,void 0,function*(){let n=(e=(yield _t.createHttpClient().getJson(t).catch(o=>{throw new Error(`Failed to get ID Token. 
 
        Error Code : ${o.statusCode}
 
        Error Message: ${o.result.message}`)})).result)===null||e===void 0?void 0:e.value;if(!n)throw new Error("Response json body do not have ID Token field");return n})}static getIDToken(t){return pr(this,void 0,void 0,function*(){try{let e=_t.getIDTokenUrl();if(t){let r=encodeURIComponent(t);e=`${e}&audience=${r}`}mr.debug(`ID token url is ${e}`);let s=yield _t.getCall(e);return mr.setSecret(s),s}catch(e){throw new Error(`Error message: ${e.message}`)}})}};qt.OidcClient=_t});var $s=T(z=>{"use strict";var Us=z&&z.__awaiter||function(i,t,e,s){function r(n){return n instanceof e?n:new e(function(o){o(n)})}return new(e||(e=Promise))(function(n,o){function h(c){try{l(s.next(c))}catch(u){o(u)}}function a(c){try{l(s.throw(c))}catch(u){o(u)}}function l(c){c.done?n(c.value):r(c.value).then(h,a)}l((s=s.apply(i,t||[])).next())})};Object.defineProperty(z,"__esModule",{value:!0});z.summary=z.markdownSummary=z.SUMMARY_DOCS_URL=z.SUMMARY_ENV_VAR=void 0;var ya=require("os"),qs=require("fs"),{access:ba,appendFile:va,writeFile:Sa}=qs.promises;z.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY";z.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";var Ws=class{constructor(){this._buffer=""}filePath(){return Us(this,void 0,void 0,function*(){if(this._filePath)return this._filePath;let t=process.env[z.SUMMARY_ENV_VAR];if(!t)throw new Error(`Unable to find environment variable for $${z.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`);try{yield ba(t,qs.constants.R_OK|qs.constants.W_OK)}catch{throw new Error(`Unable to access summary file: '${t}'. Check if the file has correct read/write permissions.`)}return this._filePath=t,this._filePath})}wrap(t,e,s={}){let r=Object.entries(s).map(([n,o])=>` ${n}="${o}"`).join("");return e?`<${t}${r}>${e}</${t}>`:`<${t}${r}>`}write(t){return Us(this,void 0,void 0,function*(){let e=!!(t!=null&&t.overwrite),s=yield this.filePath();return yield(e?Sa:va)(s,this._buffer,{encoding:"utf8"}),this.emptyBuffer()})}clear(){return Us(this,void 0,void 0,function*(){return this.emptyBuffer().write({overwrite:!0})})}stringify(){return this._buffer}isEmptyBuffer(){return this._buffer.length===0}emptyBuffer(){return this._buffer="",this}addRaw(t,e=!1){return this._buffer+=t,e?this.addEOL():this}addEOL(){return this.addRaw(ya.EOL)}addCodeBlock(t,e){let s=Object.assign({},e&&{lang:e}),r=this.wrap("pre",this.wrap("code",t),s);return this.addRaw(r).addEOL()}addList(t,e=!1){let s=e?"ol":"ul",r=t.map(o=>this.wrap("li",o)).join(""),n=this.wrap(s,r);return this.addRaw(n).addEOL()}addTable(t){let e=t.map(r=>{let n=r.map(o=>{if(typeof o=="string")return this.wrap("td",o);let{header:h,data:a,colspan:l,rowspan:c}=o,u=h?"th":"td",f=Object.assign(Object.assign({},l&&{colspan:l}),c&&{rowspan:c});return this.wrap(u,a,f)}).join("");return this.wrap("tr",n)}).join(""),s=this.wrap("table",e);return this.addRaw(s).addEOL()}addDetails(t,e){let s=this.wrap("details",this.wrap("summary",t)+e);return this.addRaw(s).addEOL()}addImage(t,e,s){let{width:r,height:n}=s||{},o=Object.assign(Object.assign({},r&&{width:r}),n&&{height:n}),h=this.wrap("img",null,Object.assign({src:t,alt:e},o));return this.addRaw(h).addEOL()}addHeading(t,e){let s=`h${e}`,r=["h1","h2","h3","h4","h5","h6"].includes(s)?s:"h1",n=this.wrap(r,t);return this.addRaw(n).addEOL()}addSeparator(){let t=this.wrap("hr",null);return this.addRaw(t).addEOL()}addBreak(){let t=this.wrap("br",null);return this.addRaw(t).addEOL()}addQuote(t,e){let s=Object.assign({},e&&{cite:e}),r=this.wrap("blockquote",t,s);return this.addRaw(r).addEOL()}addLink(t,e){let s=this.wrap("a",t,{href:e});return this.addRaw(s).addEOL()}},wr=new Ws;z.markdownSummary=wr;z.summary=wr});var yr=T(V=>{"use strict";var _a=V&&V.__createBinding||(Object.create?function(i,t,e,s){s===void 0&&(s=e),Object.defineProperty(i,s,{enumerable:!0,get:function(){return t[e]}})}:function(i,t,e,s){s===void 0&&(s=e),i[s]=t[e]}),Ea=V&&V.__setModuleDefault||(Object.create?function(i,t){Object.defineProperty(i,"default",{enumerable:!0,value:t})}:function(i,t){i.default=t}),Oa=V&&V.__importStar||function(i){if(i&&i.__esModule)return i;var t={};if(i!=null)for(var e in i)e!=="default"&&Object.hasOwnProperty.call(i,e)&&_a(t,i,e);return Ea(t,i),t};Object.defineProperty(V,"__esModule",{value:!0});V.toPlatformPath=V.toWin32Path=V.toPosixPath=void 0;var Ta=Oa(require("path"));function Ra(i){return i.replace(/[\\]/g,"/")}V.toPosixPath=Ra;function Aa(i){return i.replace(/[/]/g,"\\")}V.toWin32Path=Aa;function xa(i){return i.replace(/[/\\]/g,Ta.sep)}V.toPlatformPath=xa});var Is=T(b=>{"use strict";var Pa=b&&b.__createBinding||(Object.create?function(i,t,e,s){s===void 0&&(s=e),Object.defineProperty(i,s,{enumerable:!0,get:function(){return t[e]}})}:function(i,t,e,s){s===void 0&&(s=e),i[s]=t[e]}),Ca=b&&b.__setModuleDefault||(Object.create?function(i,t){Object.defineProperty(i,"default",{enumerable:!0,value:t})}:function(i,t){i.default=t}),br=b&&b.__importStar||function(i){if(i&&i.__esModule)return i;var t={};if(i!=null)for(var e in i)e!=="default"&&Object.hasOwnProperty.call(i,e)&&Pa(t,i,e);return Ca(t,i),t},vr=b&&b.__awaiter||function(i,t,e,s){function r(n){return n instanceof e?n:new e(function(o){o(n)})}return new(e||(e=Promise))(function(n,o){function h(c){try{l(s.next(c))}catch(u){o(u)}}function a(c){try{l(s.throw(c))}catch(u){o(u)}}function l(c){c.done?n(c.value):r(c.value).then(h,a)}l((s=s.apply(i,t||[])).next())})};Object.defineProperty(b,"__esModule",{value:!0});b.getIDToken=b.getState=b.saveState=b.group=b.endGroup=b.startGroup=b.info=b.notice=b.warning=b.error=b.debug=b.isDebug=b.setFailed=b.setCommandEcho=b.setOutput=b.getBooleanInput=b.getMultilineInput=b.getInput=b.addPath=b.setSecret=b.exportVariable=b.ExitCode=void 0;var X=xi(),xt=sr(),Wt=Re(),Sr=br(require("os")),ka=br(require("path")),Ma=gr(),_r;(function(i){i[i.Success=0]="Success",i[i.Failure=1]="Failure"})(_r=b.ExitCode||(b.ExitCode={}));function ja(i,t){let e=Wt.toCommandValue(t);if(process.env[i]=e,process.env.GITHUB_ENV||"")return xt.issueFileCommand("ENV",xt.prepareKeyValueMessage(i,t));X.issueCommand("set-env",{name:i},e)}b.exportVariable=ja;function Da(i){X.issueCommand("add-mask",{},i)}b.setSecret=Da;function Na(i){process.env.GITHUB_PATH||""?xt.issueFileCommand("PATH",i):X.issueCommand("add-path",{},i),process.env.PATH=`${i}${ka.delimiter}${process.env.PATH}`}b.addPath=Na;function Gs(i,t){let e=process.env[`INPUT_${i.replace(/ /g,"_").toUpperCase()}`]||"";if(t&&t.required&&!e)throw new Error(`Input required and not supplied: ${i}`);return t&&t.trimWhitespace===!1?e:e.trim()}b.getInput=Gs;function La(i,t){let e=Gs(i,t).split(`
`).filter(s=>s!=="");return t&&t.trimWhitespace===!1?e:e.map(s=>s.trim())}b.getMultilineInput=La;function Fa(i,t){let e=["true","True","TRUE"],s=["false","False","FALSE"],r=Gs(i,t);if(e.includes(r))return!0;if(s.includes(r))return!1;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${i}
Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}b.getBooleanInput=Fa;function Ba(i,t){if(process.env.GITHUB_OUTPUT||"")return xt.issueFileCommand("OUTPUT",xt.prepareKeyValueMessage(i,t));process.stdout.write(Sr.EOL),X.issueCommand("set-output",{name:i},Wt.toCommandValue(t))}b.setOutput=Ba;function Ia(i){X.issue("echo",i?"on":"off")}b.setCommandEcho=Ia;function Ua(i){process.exitCode=_r.Failure,Er(i)}b.setFailed=Ua;function qa(){return process.env.RUNNER_DEBUG==="1"}b.isDebug=qa;function Wa(i){X.issueCommand("debug",{},i)}b.debug=Wa;function Er(i,t={}){X.issueCommand("error",Wt.toCommandProperties(t),i instanceof Error?i.toString():i)}b.error=Er;function $a(i,t={}){X.issueCommand("warning",Wt.toCommandProperties(t),i instanceof Error?i.toString():i)}b.warning=$a;function Ga(i,t={}){X.issueCommand("notice",Wt.toCommandProperties(t),i instanceof Error?i.toString():i)}b.notice=Ga;function za(i){process.stdout.write(i+Sr.EOL)}b.info=za;function Or(i){X.issue("group",i)}b.startGroup=Or;function Tr(){X.issue("endgroup")}b.endGroup=Tr;function Va(i,t){return vr(this,void 0,void 0,function*(){Or(i);let e;try{e=yield t()}finally{Tr()}return e})}b.group=Va;function Ha(i,t){if(process.env.GITHUB_STATE||"")return xt.issueFileCommand("STATE",xt.prepareKeyValueMessage(i,t));X.issueCommand("save-state",{name:i},Wt.toCommandValue(t))}b.saveState=Ha;function Ja(i){return process.env[`STATE_${i}`]||""}b.getState=Ja;function Ka(i){return vr(this,void 0,void 0,function*(){return yield Ma.OidcClient.getIDToken(i)})}b.getIDToken=Ka;var Ya=$s();Object.defineProperty(b,"summary",{enumerable:!0,get:function(){return Ya.summary}});var Xa=$s();Object.defineProperty(b,"markdownSummary",{enumerable:!0,get:function(){return Xa.markdownSummary}});var zs=yr();Object.defineProperty(b,"toPosixPath",{enumerable:!0,get:function(){return zs.toPosixPath}});Object.defineProperty(b,"toWin32Path",{enumerable:!0,get:function(){return zs.toWin32Path}});Object.defineProperty(b,"toPlatformPath",{enumerable:!0,get:function(){return zs.toPlatformPath}})});var xr=T((mu,Ar)=>{var{basename:Rr,dirname:Qa}=require("path"),Za=(i,t)=>i.charAt(0)==="@"?`${i}/${t}`:t;Ar.exports=i=>i?Za(Rr(Qa(i)),Rr(i)):!1});var jr=T((gu,Mr)=>{"use strict";Mr.exports=Cr;function Cr(i,t,e){i instanceof RegExp&&(i=Pr(i,e)),t instanceof RegExp&&(t=Pr(t,e));var s=kr(i,t,e);return s&&{start:s[0],end:s[1],pre:e.slice(0,s[0]),body:e.slice(s[0]+i.length,s[1]),post:e.slice(s[1]+t.length)}}function Pr(i,t){var e=t.match(i);return e?e[0]:null}Cr.range=kr;function kr(i,t,e){var s,r,n,o,h,a=e.indexOf(i),l=e.indexOf(t,a+1),c=a;if(a>=0&&l>0){if(i===t)return[a,l];for(s=[],n=e.length;c>=0&&!h;)c==a?(s.push(c),a=e.indexOf(i,c+1)):s.length==1?h=[s.pop(),l]:(r=s.pop(),r<n&&(n=r,o=l),l=e.indexOf(t,c+1)),c=a<l&&a>=0?a:l;s.length&&(h=[n,o])}return h}});var qr=T((wu,Ur)=>{var Dr=jr();Ur.exports=sh;var Nr="\0SLASH"+Math.random()+"\0",Lr="\0OPEN"+Math.random()+"\0",Hs="\0CLOSE"+Math.random()+"\0",Fr="\0COMMA"+Math.random()+"\0",Br="\0PERIOD"+Math.random()+"\0";function Vs(i){return parseInt(i,10)==i?parseInt(i,10):i.charCodeAt(0)}function th(i){return i.split("\\\\").join(Nr).split("\\{").join(Lr).split("\\}").join(Hs).split("\\,").join(Fr).split("\\.").join(Br)}function eh(i){return i.split(Nr).join("\\").split(Lr).join("{").split(Hs).join("}").split(Fr).join(",").split(Br).join(".")}function Ir(i){if(!i)return[""];var t=[],e=Dr("{","}",i);if(!e)return i.split(",");var s=e.pre,r=e.body,n=e.post,o=s.split(",");o[o.length-1]+="{"+r+"}";var h=Ir(n);return n.length&&(o[o.length-1]+=h.shift(),o.push.apply(o,h)),t.push.apply(t,o),t}function sh(i){return i?(i.substr(0,2)==="{}"&&(i="\\{\\}"+i.substr(2)),Zt(th(i),!0).map(eh)):[]}function ih(i){return"{"+i+"}"}function rh(i){return/^-?0\d/.test(i)}function nh(i,t){return i<=t}function oh(i,t){return i>=t}function Zt(i,t){var e=[],s=Dr("{","}",i);if(!s)return[i];var r=s.pre,n=s.post.length?Zt(s.post,!1):[""];if(/\$$/.test(s.pre))for(var o=0;o<n.length;o++){var h=r+"{"+s.body+"}"+n[o];e.push(h)}else{var a=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(s.body),l=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(s.body),c=a||l,u=s.body.indexOf(",")>=0;if(!c&&!u)return s.post.match(/,.*\}/)?(i=s.pre+"{"+s.body+Hs+s.post,Zt(i)):[i];var f;if(c)f=s.body.split(/\.\./);else if(f=Ir(s.body),f.length===1&&(f=Zt(f[0],!1).map(ih),f.length===1))return n.map(function(Te){return s.pre+f[0]+Te});var m;if(c){var v=Vs(f[0]),d=Vs(f[1]),w=Math.max(f[0].length,f[1].length),g=f.length==3?Math.abs(Vs(f[2])):1,_=nh,S=d<v;S&&(g*=-1,_=oh);var O=f.some(rh);m=[];for(var x=v;_(x,d);x+=g){var j;if(l)j=String.fromCharCode(x),j==="\\"&&(j="");else if(j=String(x),O){var et=w-j.length;if(et>0){var Oe=new Array(et+1).join("0");x<0?j="-"+Oe+j.slice(1):j=Oe+j}}m.push(j)}}else{m=[];for(var rt=0;rt<f.length;rt++)m.push.apply(m,Zt(f[rt],!1))}for(var rt=0;rt<m.length;rt++)for(var o=0;o<n.length;o++){var h=r+m[rt]+n[o];(!t||c||h)&&e.push(h)}}return e}});var Wr=T(Le=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});Le.assertValidPattern=void 0;var ah=1024*64,hh=i=>{if(typeof i!="string")throw new TypeError("invalid pattern");if(i.length>ah)throw new TypeError("pattern is too long")};Le.assertValidPattern=hh});var Gr=T(Fe=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0});Fe.parseClass=void 0;var lh={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},te=i=>i.replace(/[[\]\\-]/g,"\\$&"),ch=i=>i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),$r=i=>i.join(""),uh=(i,t)=>{let e=t;if(i.charAt(e)!=="[")throw new Error("not in a brace expression");let s=[],r=[],n=e+1,o=!1,h=!1,a=!1,l=!1,c=e,u="";t:for(;n<i.length;){let d=i.charAt(n);if((d==="!"||d==="^")&&n===e+1){l=!0,n++;continue}if(d==="]"&&o&&!a){c=n+1;break}if(o=!0,d==="\\"&&!a){a=!0,n++;continue}if(d==="["&&!a){for(let[w,[g,_,S]]of Object.entries(lh))if(i.startsWith(w,n)){if(u)return["$.",!1,i.length-e,!0];n+=w.length,S?r.push(g):s.push(g),h=h||_;continue t}}if(a=!1,u){d>u?s.push(te(u)+"-"+te(d)):d===u&&s.push(te(d)),u="",n++;continue}if(i.startsWith("-]",n+1)){s.push(te(d+"-")),n+=2;continue}if(i.startsWith("-",n+1)){u=d,n+=2;continue}s.push(te(d)),n++}if(c<n)return["",!1,0,!1];if(!s.length&&!r.length)return["$.",!1,i.length-e,!0];if(r.length===0&&s.length===1&&/^\\?.$/.test(s[0])&&!l){let d=s[0].length===2?s[0].slice(-1):s[0];return[ch(d),!1,c-e,!1]}let f="["+(l?"^":"")+$r(s)+"]",m="["+(l?"":"^")+$r(r)+"]";return[s.length&&r.length?"("+f+"|"+m+")":s.length?f:m,h,c-e,!0]};Fe.parseClass=uh});var Ie=T(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});Be.unescape=void 0;var fh=(i,{windowsPathsNoEscape:t=!1}={})=>t?i.replace(/\[([^\/\\])\]/g,"$1"):i.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1");Be.unescape=fh});var Ys=T(ze=>{"use strict";Object.defineProperty(ze,"__esModule",{value:!0});ze.AST=void 0;var dh=Gr(),Ue=Ie(),ph=new Set(["!","?","+","*","@"]),zr=i=>ph.has(i),mh="(?!(?:^|/)\\.\\.?(?:$|/))",qe="(?!\\.)",gh=new Set(["[","."]),wh=new Set(["..","."]),yh=new Set("().*{}+?[]^$\\!"),bh=i=>i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Ks="[^/]",Vr=Ks+"*?",Hr=Ks+"+?",L,B,ct,C,D,Et,Pt,Ot,ut,Ct,se,$e,Jr,$t,We,ie,Js,Ge,Kr,H=class{constructor(t,e,s={}){F(this,$e);F(this,ie);Oi(this,"type");F(this,L,void 0);F(this,B,void 0);F(this,ct,!1);F(this,C,[]);F(this,D,void 0);F(this,Et,void 0);F(this,Pt,void 0);F(this,Ot,!1);F(this,ut,void 0);F(this,Ct,void 0);F(this,se,!1);this.type=t,t&&P(this,B,!0),P(this,D,e),P(this,L,p(this,D)?p(p(this,D),L):this),P(this,ut,p(this,L)===this?s:p(p(this,L),ut)),P(this,Pt,p(this,L)===this?[]:p(p(this,L),Pt)),t==="!"&&!p(p(this,L),Ot)&&p(this,Pt).push(this),P(this,Et,p(this,D)?p(p(this,D),C).length:0)}get hasMagic(){if(p(this,B)!==void 0)return p(this,B);for(let t of p(this,C))if(typeof t!="string"&&(t.type||t.hasMagic))return P(this,B,!0);return p(this,B)}toString(){return p(this,Ct)!==void 0?p(this,Ct):this.type?P(this,Ct,this.type+"("+p(this,C).map(t=>String(t)).join("|")+")"):P(this,Ct,p(this,C).map(t=>String(t)).join(""))}push(...t){for(let e of t)if(e!==""){if(typeof e!="string"&&!(e instanceof H&&p(e,D)===this))throw new Error("invalid part: "+e);p(this,C).push(e)}}toJSON(){var e;let t=this.type===null?p(this,C).slice().map(s=>typeof s=="string"?s:s.toJSON()):[this.type,...p(this,C).map(s=>s.toJSON())];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===p(this,L)||p(p(this,L),Ot)&&((e=p(this,D))==null?void 0:e.type)==="!")&&t.push({}),t}isStart(){var e;if(p(this,L)===this)return!0;if(!((e=p(this,D))!=null&&e.isStart()))return!1;if(p(this,Et)===0)return!0;let t=p(this,D);for(let s=0;s<p(this,Et);s++){let r=p(t,C)[s];if(!(r instanceof H&&r.type==="!"))return!1}return!0}isEnd(){var e,s,r;if(p(this,L)===this||((e=p(this,D))==null?void 0:e.type)==="!")return!0;if(!((s=p(this,D))!=null&&s.isEnd()))return!1;if(!this.type)return(r=p(this,D))==null?void 0:r.isEnd();let t=p(this,D)?p(p(this,D),C).length:0;return p(this,Et)===t-1}copyIn(t){typeof t=="string"?this.push(t):this.push(t.clone(this))}clone(t){let e=new H(this.type,t);for(let s of p(this,C))e.copyIn(s);return e}static fromGlob(t,e={}){var r;let s=new H(null,void 0,e);return wt(r=H,$t,We).call(r,t,s,0,e),s}toMMPattern(){if(this!==p(this,L))return p(this,L).toMMPattern();let t=this.toString(),[e,s,r,n]=this.toRegExpSource();if(!(r||p(this,B)||p(this,ut).nocase&&!p(this,ut).nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return s;let h=(p(this,ut).nocase?"i":"")+(n?"u":"");return Object.assign(new RegExp(`^${e}$`,h),{_src:e,_glob:t})}toRegExpSource(t){var a;let e=t??!!p(this,ut).dot;if(p(this,L)===this&&wt(this,$e,Jr).call(this),!this.type){let l=this.isStart()&&this.isEnd(),c=p(this,C).map(v=>{var S;let[d,w,g,_]=typeof v=="string"?wt(S=H,Ge,Kr).call(S,v,p(this,B),l):v.toRegExpSource(t);return P(this,B,p(this,B)||g),P(this,ct,p(this,ct)||_),d}).join(""),u="";if(this.isStart()&&typeof p(this,C)[0]=="string"&&!(p(this,C).length===1&&wh.has(p(this,C)[0]))){let d=gh,w=e&&d.has(c.charAt(0))||c.startsWith("\\.")&&d.has(c.charAt(2))||c.startsWith("\\.\\.")&&d.has(c.charAt(4)),g=!e&&!t&&d.has(c.charAt(0));u=w?mh:g?qe:""}let f="";return this.isEnd()&&p(p(this,L),Ot)&&((a=p(this,D))==null?void 0:a.type)==="!"&&(f="(?:$|\\/)"),[u+c+f,(0,Ue.unescape)(c),P(this,B,!!p(this,B)),p(this,ct)]}let s=this.type==="*"||this.type==="+",r=this.type==="!"?"(?:(?!(?:":"(?:",n=wt(this,ie,Js).call(this,e);if(this.isStart()&&this.isEnd()&&!n&&this.type!=="!"){let l=this.toString();return P(this,C,[l]),this.type=null,P(this,B,void 0),[l,(0,Ue.unescape)(this.toString()),!1,!1]}let o=!s||t||e||!qe?"":wt(this,ie,Js).call(this,!0);o===n&&(o=""),o&&(n=`(?:${n})(?:${o})*?`);let h="";if(this.type==="!"&&p(this,se))h=(this.isStart()&&!e?qe:"")+Hr;else{let l=this.type==="!"?"))"+(this.isStart()&&!e&&!t?qe:"")+Vr+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&o?")":this.type==="*"&&o?")?":`)${this.type}`;h=r+n+l}return[h,(0,Ue.unescape)(n),P(this,B,!!p(this,B)),p(this,ct)]}},ee=H;L=new WeakMap,B=new WeakMap,ct=new WeakMap,C=new WeakMap,D=new WeakMap,Et=new WeakMap,Pt=new WeakMap,Ot=new WeakMap,ut=new WeakMap,Ct=new WeakMap,se=new WeakMap,$e=new WeakSet,Jr=function(){if(this!==p(this,L))throw new Error("should only call on root");if(p(this,Ot))return this;this.toString(),P(this,Ot,!0);let t;for(;t=p(this,Pt).pop();){if(t.type!=="!")continue;let e=t,s=p(e,D);for(;s;){for(let r=p(e,Et)+1;!s.type&&r<p(s,C).length;r++)for(let n of p(t,C)){if(typeof n=="string")throw new Error("string part in extglob AST??");n.copyIn(p(s,C)[r])}e=s,s=p(e,D)}}return this},$t=new WeakSet,We=function(t,e,s,r){var m,v;let n=!1,o=!1,h=-1,a=!1;if(e.type===null){let d=s,w="";for(;d<t.length;){let g=t.charAt(d++);if(n||g==="\\"){n=!n,w+=g;continue}if(o){d===h+1?(g==="^"||g==="!")&&(a=!0):g==="]"&&!(d===h+2&&a)&&(o=!1),w+=g;continue}else if(g==="["){o=!0,h=d,a=!1,w+=g;continue}if(!r.noext&&zr(g)&&t.charAt(d)==="("){e.push(w),w="";let _=new H(g,e);d=wt(m=H,$t,We).call(m,t,_,d,r),e.push(_);continue}w+=g}return e.push(w),d}let l=s+1,c=new H(null,e),u=[],f="";for(;l<t.length;){let d=t.charAt(l++);if(n||d==="\\"){n=!n,f+=d;continue}if(o){l===h+1?(d==="^"||d==="!")&&(a=!0):d==="]"&&!(l===h+2&&a)&&(o=!1),f+=d;continue}else if(d==="["){o=!0,h=l,a=!1,f+=d;continue}if(zr(d)&&t.charAt(l)==="("){c.push(f),f="";let w=new H(d,c);c.push(w),l=wt(v=H,$t,We).call(v,t,w,l,r);continue}if(d==="|"){c.push(f),f="",u.push(c),c=new H(null,e);continue}if(d===")")return f===""&&p(e,C).length===0&&P(e,se,!0),c.push(f),f="",e.push(...u,c),l;f+=d}return e.type=null,P(e,B,void 0),P(e,C,[t.substring(s-1)]),l},ie=new WeakSet,Js=function(t){return p(this,C).map(e=>{if(typeof e=="string")throw new Error("string type in extglob ast??");let[s,r,n,o]=e.toRegExpSource(t);return P(this,ct,p(this,ct)||o),s}).filter(e=>!(this.isStart()&&this.isEnd())||!!e).join("|")},Ge=new WeakSet,Kr=function(t,e,s=!1){let r=!1,n="",o=!1;for(let h=0;h<t.length;h++){let a=t.charAt(h);if(r){r=!1,n+=(yh.has(a)?"\\":"")+a;continue}if(a==="\\"){h===t.length-1?n+="\\\\":r=!0;continue}if(a==="["){let[l,c,u,f]=(0,dh.parseClass)(t,h);if(u){n+=l,o=o||c,h+=u-1,e=e||f;continue}}if(a==="*"){s&&t==="*"?n+=Hr:n+=Vr,e=!0;continue}if(a==="?"){n+=Ks,e=!0;continue}n+=bh(a)}return[n,(0,Ue.unescape)(t),!!e,o]},F(ee,$t),F(ee,Ge);ze.AST=ee});var Xs=T(Ve=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.escape=void 0;var vh=(i,{windowsPathsNoEscape:t=!1}={})=>t?i.replace(/[?*()[\]]/g,"[$&]"):i.replace(/[?*()[\]\\]/g,"\\$&");Ve.escape=vh});var ft=T(y=>{"use strict";var Sh=y&&y.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(y,"__esModule",{value:!0});y.unescape=y.escape=y.AST=y.Minimatch=y.match=y.makeRe=y.braceExpand=y.defaults=y.filter=y.GLOBSTAR=y.sep=y.minimatch=void 0;var _h=Sh(qr()),He=Wr(),Qr=Ys(),Eh=Xs(),Oh=Ie(),Th=(i,t,e={})=>((0,He.assertValidPattern)(t),!e.nocomment&&t.charAt(0)==="#"?!1:new kt(t,e).match(i));y.minimatch=Th;var Rh=/^\*+([^+@!?\*\[\(]*)$/,Ah=i=>t=>!t.startsWith(".")&&t.endsWith(i),xh=i=>t=>t.endsWith(i),Ph=i=>(i=i.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(i)),Ch=i=>(i=i.toLowerCase(),t=>t.toLowerCase().endsWith(i)),kh=/^\*+\.\*+$/,Mh=i=>!i.startsWith(".")&&i.includes("."),jh=i=>i!=="."&&i!==".."&&i.includes("."),Dh=/^\.\*+$/,Nh=i=>i!=="."&&i!==".."&&i.startsWith("."),Lh=/^\*+$/,Fh=i=>i.length!==0&&!i.startsWith("."),Bh=i=>i.length!==0&&i!=="."&&i!=="..",Ih=/^\?+([^+@!?\*\[\(]*)?$/,Uh=([i,t=""])=>{let e=Zr([i]);return t?(t=t.toLowerCase(),s=>e(s)&&s.toLowerCase().endsWith(t)):e},qh=([i,t=""])=>{let e=tn([i]);return t?(t=t.toLowerCase(),s=>e(s)&&s.toLowerCase().endsWith(t)):e},Wh=([i,t=""])=>{let e=tn([i]);return t?s=>e(s)&&s.endsWith(t):e},$h=([i,t=""])=>{let e=Zr([i]);return t?s=>e(s)&&s.endsWith(t):e},Zr=([i])=>{let t=i.length;return e=>e.length===t&&!e.startsWith(".")},tn=([i])=>{let t=i.length;return e=>e.length===t&&e!=="."&&e!==".."},en=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",Yr={win32:{sep:"\\"},posix:{sep:"/"}};y.sep=en==="win32"?Yr.win32.sep:Yr.posix.sep;y.minimatch.sep=y.sep;y.GLOBSTAR=Symbol("globstar **");y.minimatch.GLOBSTAR=y.GLOBSTAR;var Gh="[^/]",zh=Gh+"*?",Vh="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Hh="(?:(?!(?:\\/|^)\\.).)*?",Jh=(i,t={})=>e=>(0,y.minimatch)(e,i,t);y.filter=Jh;y.minimatch.filter=y.filter;var Q=(i,t={})=>Object.assign({},i,t),Kh=i=>{if(!i||typeof i!="object"||!Object.keys(i).length)return y.minimatch;let t=y.minimatch;return Object.assign((s,r,n={})=>t(s,r,Q(i,n)),{Minimatch:class extends t.Minimatch{constructor(r,n={}){super(r,Q(i,n))}static defaults(r){return t.defaults(Q(i,r)).Minimatch}},AST:class extends t.AST{constructor(r,n,o={}){super(r,n,Q(i,o))}static fromGlob(r,n={}){return t.AST.fromGlob(r,Q(i,n))}},unescape:(s,r={})=>t.unescape(s,Q(i,r)),escape:(s,r={})=>t.escape(s,Q(i,r)),filter:(s,r={})=>t.filter(s,Q(i,r)),defaults:s=>t.defaults(Q(i,s)),makeRe:(s,r={})=>t.makeRe(s,Q(i,r)),braceExpand:(s,r={})=>t.braceExpand(s,Q(i,r)),match:(s,r,n={})=>t.match(s,r,Q(i,n)),sep:t.sep,GLOBSTAR:y.GLOBSTAR})};y.defaults=Kh;y.minimatch.defaults=y.defaults;var Yh=(i,t={})=>((0,He.assertValidPattern)(i),t.nobrace||!/\{(?:(?!\{).)*\}/.test(i)?[i]:(0,_h.default)(i));y.braceExpand=Yh;y.minimatch.braceExpand=y.braceExpand;var Xh=(i,t={})=>new kt(i,t).makeRe();y.makeRe=Xh;y.minimatch.makeRe=y.makeRe;var Qh=(i,t,e={})=>{let s=new kt(t,e);return i=i.filter(r=>s.match(r)),s.options.nonull&&!i.length&&i.push(t),i};y.match=Qh;y.minimatch.match=y.match;var Xr=/[?*]|[+@!]\(.*?\)|\[|\]/,Zh=i=>i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),kt=class{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(t,e={}){(0,He.assertValidPattern)(t),e=e||{},this.options=e,this.pattern=t,this.platform=e.platform||en,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||e.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!e.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!e.nonegate,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=e.windowsNoMagicRoot!==void 0?e.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(let t of this.set)for(let e of t)if(typeof e!="string")return!0;return!1}debug(...t){}make(){let t=this.pattern,e=this.options;if(!e.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],e.debug&&(this.debug=(...n)=>console.error(...n)),this.debug(this.pattern,this.globSet);let s=this.globSet.map(n=>this.slashSplit(n));this.globParts=this.preprocess(s),this.debug(this.pattern,this.globParts);let r=this.globParts.map((n,o,h)=>{if(this.isWindows&&this.windowsNoMagicRoot){let a=n[0]===""&&n[1]===""&&(n[2]==="?"||!Xr.test(n[2]))&&!Xr.test(n[3]),l=/^[a-z]:/i.test(n[0]);if(a)return[...n.slice(0,4),...n.slice(4).map(c=>this.parse(c))];if(l)return[n[0],...n.slice(1).map(c=>this.parse(c))]}return n.map(a=>this.parse(a))});if(this.debug(this.pattern,r),this.set=r.filter(n=>n.indexOf(!1)===-1),this.isWindows)for(let n=0;n<this.set.length;n++){let o=this.set[n];o[0]===""&&o[1]===""&&this.globParts[n][2]==="?"&&typeof o[3]=="string"&&/^[a-z]:$/i.test(o[3])&&(o[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let s=0;s<t.length;s++)for(let r=0;r<t[s].length;r++)t[s][r]==="**"&&(t[s][r]="*");let{optimizationLevel:e=1}=this.options;return e>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):e>=1?t=this.levelOneOptimize(t):t=this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map(e=>{let s=-1;for(;(s=e.indexOf("**",s+1))!==-1;){let r=s;for(;e[r+1]==="**";)r++;r!==s&&e.splice(s,r-s)}return e})}levelOneOptimize(t){return t.map(e=>(e=e.reduce((s,r)=>{let n=s[s.length-1];return r==="**"&&n==="**"?s:r===".."&&n&&n!==".."&&n!=="."&&n!=="**"?(s.pop(),s):(s.push(r),s)},[]),e.length===0?[""]:e))}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let e=!1;do{if(e=!1,!this.preserveMultipleSlashes){for(let r=1;r<t.length-1;r++){let n=t[r];r===1&&n===""&&t[0]===""||(n==="."||n==="")&&(e=!0,t.splice(r,1),r--)}t[0]==="."&&t.length===2&&(t[1]==="."||t[1]==="")&&(e=!0,t.pop())}let s=0;for(;(s=t.indexOf("..",s+1))!==-1;){let r=t[s-1];r&&r!=="."&&r!==".."&&r!=="**"&&(e=!0,t.splice(s-1,2),s-=2)}}while(e);return t.length===0?[""]:t}firstPhasePreProcess(t){let e=!1;do{e=!1;for(let s of t){let r=-1;for(;(r=s.indexOf("**",r+1))!==-1;){let o=r;for(;s[o+1]==="**";)o++;o>r&&s.splice(r+1,o-r);let h=s[r+1],a=s[r+2],l=s[r+3];if(h!==".."||!a||a==="."||a===".."||!l||l==="."||l==="..")continue;e=!0,s.splice(r,1);let c=s.slice(0);c[r]="**",t.push(c),r--}if(!this.preserveMultipleSlashes){for(let o=1;o<s.length-1;o++){let h=s[o];o===1&&h===""&&s[0]===""||(h==="."||h==="")&&(e=!0,s.splice(o,1),o--)}s[0]==="."&&s.length===2&&(s[1]==="."||s[1]==="")&&(e=!0,s.pop())}let n=0;for(;(n=s.indexOf("..",n+1))!==-1;){let o=s[n-1];if(o&&o!=="."&&o!==".."&&o!=="**"){e=!0;let a=n===1&&s[n+1]==="**"?["."]:[];s.splice(n-1,2,...a),s.length===0&&s.push(""),n-=2}}}}while(e);return t}secondPhasePreProcess(t){for(let e=0;e<t.length-1;e++)for(let s=e+1;s<t.length;s++){let r=this.partsMatch(t[e],t[s],!this.preserveMultipleSlashes);r&&(t[e]=r,t[s]=[])}return t.filter(e=>e.length)}partsMatch(t,e,s=!1){let r=0,n=0,o=[],h="";for(;r<t.length&&n<e.length;)if(t[r]===e[n])o.push(h==="b"?e[n]:t[r]),r++,n++;else if(s&&t[r]==="**"&&e[n]===t[r+1])o.push(t[r]),r++;else if(s&&e[n]==="**"&&t[r]===e[n+1])o.push(e[n]),n++;else if(t[r]==="*"&&e[n]&&(this.options.dot||!e[n].startsWith("."))&&e[n]!=="**"){if(h==="b")return!1;h="a",o.push(t[r]),r++,n++}else if(e[n]==="*"&&t[r]&&(this.options.dot||!t[r].startsWith("."))&&t[r]!=="**"){if(h==="a")return!1;h="b",o.push(e[n]),r++,n++}else return!1;return t.length===e.length&&o}parseNegate(){if(this.nonegate)return;let t=this.pattern,e=!1,s=0;for(let r=0;r<t.length&&t.charAt(r)==="!";r++)e=!e,s++;s&&(this.pattern=t.slice(s)),this.negate=e}matchOne(t,e,s=!1){let r=this.options;if(this.isWindows){let d=typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0]),w=!d&&t[0]===""&&t[1]===""&&t[2]==="?"&&/^[a-z]:$/i.test(t[3]),g=typeof e[0]=="string"&&/^[a-z]:$/i.test(e[0]),_=!g&&e[0]===""&&e[1]===""&&e[2]==="?"&&typeof e[3]=="string"&&/^[a-z]:$/i.test(e[3]),S=w?3:d?0:void 0,O=_?3:g?0:void 0;if(typeof S=="number"&&typeof O=="number"){let[x,j]=[t[S],e[O]];x.toLowerCase()===j.toLowerCase()&&(e[O]=x,O>S?e=e.slice(O):S>O&&(t=t.slice(S)))}}let{optimizationLevel:n=1}=this.options;n>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var o=0,h=0,a=t.length,l=e.length;o<a&&h<l;o++,h++){this.debug("matchOne loop");var c=e[h],u=t[o];if(this.debug(e,c,u),c===!1)return!1;if(c===y.GLOBSTAR){this.debug("GLOBSTAR",[e,c,u]);var f=o,m=h+1;if(m===l){for(this.debug("** at the end");o<a;o++)if(t[o]==="."||t[o]===".."||!r.dot&&t[o].charAt(0)===".")return!1;return!0}for(;f<a;){var v=t[f];if(this.debug(`
globstar while`,t,f,e,m,v),this.matchOne(t.slice(f),e.slice(m),s))return this.debug("globstar found match!",f,a,v),!0;if(v==="."||v===".."||!r.dot&&v.charAt(0)==="."){this.debug("dot detected!",t,f,e,m);break}this.debug("globstar swallow a segment, and continue"),f++}return!!(s&&(this.debug(`
>>> no match, partial?`,t,f,e,m),f===a))}let d;if(typeof c=="string"?(d=u===c,this.debug("string match",c,u,d)):(d=c.test(u),this.debug("pattern match",c,u,d)),!d)return!1}if(o===a&&h===l)return!0;if(o===a)return s;if(h===l)return o===a-1&&t[o]==="";throw new Error("wtf?")}braceExpand(){return(0,y.braceExpand)(this.pattern,this.options)}parse(t){(0,He.assertValidPattern)(t);let e=this.options;if(t==="**")return y.GLOBSTAR;if(t==="")return"";let s,r=null;(s=t.match(Lh))?r=e.dot?Bh:Fh:(s=t.match(Rh))?r=(e.nocase?e.dot?Ch:Ph:e.dot?xh:Ah)(s[1]):(s=t.match(Ih))?r=(e.nocase?e.dot?qh:Uh:e.dot?Wh:$h)(s):(s=t.match(kh))?r=e.dot?jh:Mh:(s=t.match(Dh))&&(r=Nh);let n=Qr.AST.fromGlob(t,this.options).toMMPattern();return r?Object.assign(n,{test:r}):n}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let t=this.set;if(!t.length)return this.regexp=!1,this.regexp;let e=this.options,s=e.noglobstar?zh:e.dot?Vh:Hh,r=new Set(e.nocase?["i"]:[]),n=t.map(a=>{let l=a.map(c=>{if(c instanceof RegExp)for(let u of c.flags.split(""))r.add(u);return typeof c=="string"?Zh(c):c===y.GLOBSTAR?y.GLOBSTAR:c._src});return l.forEach((c,u)=>{let f=l[u+1],m=l[u-1];c!==y.GLOBSTAR||m===y.GLOBSTAR||(m===void 0?f!==void 0&&f!==y.GLOBSTAR?l[u+1]="(?:\\/|"+s+"\\/)?"+f:l[u]=s:f===void 0?l[u-1]=m+"(?:\\/|"+s+")?":f!==y.GLOBSTAR&&(l[u-1]=m+"(?:\\/|\\/"+s+"\\/)"+f,l[u+1]=y.GLOBSTAR))}),l.filter(c=>c!==y.GLOBSTAR).join("/")}).join("|"),[o,h]=t.length>1?["(?:",")"]:["",""];n="^"+o+n+h+"$",this.negate&&(n="^(?!"+n+").+$");try{this.regexp=new RegExp(n,[...r].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t,e=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&e)return!0;let s=this.options;this.isWindows&&(t=t.split("\\").join("/"));let r=this.slashSplit(t);this.debug(this.pattern,"split",r);let n=this.set;this.debug(this.pattern,"set",n);let o=r[r.length-1];if(!o)for(let h=r.length-2;!o&&h>=0;h--)o=r[h];for(let h=0;h<n.length;h++){let a=n[h],l=r;if(s.matchBase&&a.length===1&&(l=[o]),this.matchOne(l,a,e))return s.flipNegate?!0:!this.negate}return s.flipNegate?!1:this.negate}static defaults(t){return y.minimatch.defaults(t).Minimatch}};y.Minimatch=kt;var tl=Ys();Object.defineProperty(y,"AST",{enumerable:!0,get:function(){return tl.AST}});var el=Xs();Object.defineProperty(y,"escape",{enumerable:!0,get:function(){return el.escape}});var sl=Ie();Object.defineProperty(y,"unescape",{enumerable:!0,get:function(){return sl.unescape}});y.minimatch.AST=Qr.AST;y.minimatch.Minimatch=kt;y.minimatch.escape=Eh.escape;y.minimatch.unescape=Oh.unescape});var nn=T((Au,rn)=>{"use strict";var il=i=>{let t=i.charCodeAt(0).toString(16).toUpperCase();return"0x"+(t.length%2?"0":"")+t},rl=(i,t,e)=>{if(!t)return{message:i.message+" while parsing empty string",position:0};let s=i.message.match(/^Unexpected token (.) .*position\s+(\d+)/i),r=s?+s[2]:i.message.match(/^Unexpected end of JSON.*/i)?t.length-1:null,n=s?i.message.replace(/^Unexpected token ./,`Unexpected token ${JSON.stringify(s[1])} (${il(s[1])})`):i.message;if(r!=null){let o=r<=e?0:r-e,h=r+e>=t.length?t.length:r+e,a=(o===0?"":"...")+t.slice(o,h)+(h===t.length?"":"...");return{message:n+` while parsing ${t===a?"":"near "}${JSON.stringify(a)}`,position:r}}else return{message:n+` while parsing '${t.slice(0,e*2)}'`,position:0}},Je=class extends SyntaxError{constructor(t,e,s,r){s=s||20;let n=rl(t,e,s);super(n.message),Object.assign(this,n),this.code="EJSONPARSE",this.systemError=t,Error.captureStackTrace(this,r||this.constructor)}get name(){return this.constructor.name}set name(t){}get[Symbol.toStringTag](){return this.constructor.name}},nl=Symbol.for("indent"),ol=Symbol.for("newline"),al=/^\s*[{[]((?:\r?\n)+)([\s\t]*)/,hl=/^(?:\{\}|\[\])((?:\r?\n)+)?$/,Ke=(i,t,e)=>{let s=sn(i);e=e||20;try{let[,r=`
`,n="  "]=s.match(hl)||s.match(al)||[null,"",""],o=JSON.parse(s,t);return o&&typeof o=="object"&&(o[ol]=r,o[nl]=n),o}catch(r){if(typeof i!="string"&&!Buffer.isBuffer(i)){let n=Array.isArray(i)&&i.length===0;throw Object.assign(new TypeError(`Cannot parse ${n?"an empty array":String(i)}`),{code:"EJSONPARSE",systemError:r})}throw new Je(r,s,e,Ke)}},sn=i=>String(i).replace(/^\uFEFF/,"");rn.exports=Ke;Ke.JSONParseError=Je;Ke.noExceptions=(i,t)=>{try{return JSON.parse(sn(i),t)}catch{}}});var ln=T((xu,hn)=>{var{join:on,basename:an}=require("path"),ll=i=>i.bin?typeof i.bin=="string"?cl(i):Array.isArray(i.bin)?ul(i):typeof i.bin=="object"?Zs(i):Qs(i):Qs(i),cl=i=>i.name?(i.bin={[i.name]:i.bin},Zs(i)):Qs(i),ul=i=>(i.bin=i.bin.reduce((t,e)=>(t[an(e)]=e,t),{}),Zs(i)),Qs=i=>(delete i.bin,i),Zs=i=>{let t=i.bin,e={},s=!1;return Object.keys(t).forEach(r=>{let n=on("/",an(r.replace(/\\|:/g,"/"))).slice(1);if(typeof t[r]!="string"||!n)return;let o=on("/",t[r].replace(/\\/g,"/")).replace(/\\/g,"/").slice(1);o&&(e[n]=o,s=!0)}),s?i.bin=e:delete i.bin,i};hn.exports=ll});var mn=T((Pu,pn)=>{var{readFile:fl,lstat:dl,readdir:pl}=require("fs/promises"),ml=nn(),gl=ln(),{resolve:cn,dirname:wl,join:ti,relative:yl}=require("path"),un=i=>fl(i,"utf8").then(t=>bl(i,dn(vl(ml(t))))).catch(t=>{throw t.path=i,t}),bl=async(i,t)=>{if(t.bin)return t;let e=t.directories&&t.directories.bin;if(!e||typeof e!="string")return t;let s=wl(i),r=ti(".",ti("/",e));return t.bin=await fn(s,r,{}),t},fn=async(i,t,e)=>{let s=await pl(cn(i,t)).catch(()=>[]);for(let r of s){if(r.charAt(0)===".")continue;let n=cn(i,t,r),o=await dl(n).catch(()=>null);if(o)o.isFile()?e[r]=yl(i,n):o.isDirectory()&&await fn(i,ti(t,r),e);else continue}return e},vl=i=>{for(let t of Object.keys(i).filter(e=>/^_/.test(e)))delete i[t];return i},dn=i=>(Sl(i),El(i),_l(i),Ol(i),Tl(i),gl(i),i);un.normalize=dn;var Sl=i=>(i.name&&i.version&&(i._id=`${i.name}@${i.version}`),i),_l=i=>{let t=i.optionalDependencies,e=i.dependencies||{};if(t&&typeof t=="object")for(let s of Object.keys(t))delete e[s];return Object.keys(e).length===0&&delete i.dependencies,i},El=i=>{let t=i.bundledDependencies,e=i.bundleDependencies===void 0?t:i.bundleDependencies;return e===!1?i.bundleDependencies=[]:e===!0?i.bundleDependencies=Object.keys(i.dependencies||{}):e&&typeof e=="object"?Array.isArray(e)?i.bundleDependencies=e:i.bundleDependencies=Object.keys(e):delete i.bundleDependencies,delete i.bundledDependencies,i},Ol=i=>{if(!i.scripts||typeof i.scripts!="object")return delete i.scripts,i;for(let[t,e]of Object.entries(i.scripts))typeof e!="string"&&delete i.scripts[t];return i},Tl=i=>(i.funding&&typeof i.funding=="string"&&(i.funding={url:i.funding}),i);pn.exports=un});var Sn=T(Qe=>{"use strict";Object.defineProperty(Qe,"__esModule",{value:!0});Qe.LRUCache=void 0;var re=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,yn=new Set,ei=typeof process=="object"&&process?process:{},bn=(i,t,e,s)=>{typeof ei.emitWarning=="function"?ei.emitWarning(i,t,e,s):console.error(`[${e}] ${t}: ${i}`)},Xe=globalThis.AbortController,gn=globalThis.AbortSignal,wn;if(typeof Xe>"u"){gn=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(s,r){this._onabort.push(r)}},Xe=class{constructor(){t()}signal=new gn;abort(s){var r,n;if(!this.signal.aborted){this.signal.reason=s,this.signal.aborted=!0;for(let o of this.signal._onabort)o(s);(n=(r=this.signal).onabort)==null||n.call(r,s)}}};let i=((wn=ei.env)==null?void 0:wn.LRU_CACHE_IGNORE_AC_WARNING)!=="1",t=()=>{i&&(i=!1,bn("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}var Rl=i=>!yn.has(i),Mu=Symbol("type"),Tt=i=>i&&i===Math.floor(i)&&i>0&&isFinite(i),vn=i=>Tt(i)?i<=Math.pow(2,8)?Uint8Array:i<=Math.pow(2,16)?Uint16Array:i<=Math.pow(2,32)?Uint32Array:i<=Number.MAX_SAFE_INTEGER?zt:null:null,zt=class extends Array{constructor(t){super(t),this.fill(0)}},Vt,Gt=class{heap;length;static create(t){let e=vn(t);if(!e)return[];P(Gt,Vt,!0);let s=new Gt(t,e);return P(Gt,Vt,!1),s}constructor(t,e){if(!p(Gt,Vt))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new e(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}},Ye=Gt;Vt=new WeakMap,F(Ye,Vt,!1);var ne=class{#e;#r;#i;#o;#u;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#l;#d;#h;#n;#t;#g;#y;#m;#f;#E;#p;#x;#P;#O;#b;#R;#c;static unsafeExposeInternals(t){return{starts:t.#P,ttls:t.#O,sizes:t.#x,keyMap:t.#h,keyList:t.#n,valList:t.#t,next:t.#g,prev:t.#y,get head(){return t.#m},get tail(){return t.#f},free:t.#E,isBackgroundFetch:e=>t.#a(e),backgroundFetch:(e,s,r,n)=>t.#D(e,s,r,n),moveToTail:e=>t.#j(e),indexes:e=>t.#_(e),rindexes:e=>t.#A(e),isStale:e=>t.#w(e)}}get max(){return this.#e}get maxSize(){return this.#r}get calculatedSize(){return this.#d}get size(){return this.#l}get fetchMethod(){return this.#u}get dispose(){return this.#i}get disposeAfter(){return this.#o}constructor(t){let{max:e=0,ttl:s,ttlResolution:r=1,ttlAutopurge:n,updateAgeOnGet:o,updateAgeOnHas:h,allowStale:a,dispose:l,disposeAfter:c,noDisposeOnSet:u,noUpdateTTL:f,maxSize:m=0,maxEntrySize:v=0,sizeCalculation:d,fetchMethod:w,noDeleteOnFetchRejection:g,noDeleteOnStaleGet:_,allowStaleOnFetchRejection:S,allowStaleOnFetchAbort:O,ignoreFetchAbort:x}=t;if(e!==0&&!Tt(e))throw new TypeError("max option must be a nonnegative integer");let j=e?vn(e):Array;if(!j)throw new Error("invalid max value: "+e);if(this.#e=e,this.#r=m,this.maxEntrySize=v||this.#r,this.sizeCalculation=d,this.sizeCalculation){if(!this.#r&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(w!==void 0&&typeof w!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.#u=w,this.#R=!!w,this.#h=new Map,this.#n=new Array(e).fill(void 0),this.#t=new Array(e).fill(void 0),this.#g=new j(e),this.#y=new j(e),this.#m=0,this.#f=0,this.#E=Ye.create(e),this.#l=0,this.#d=0,typeof l=="function"&&(this.#i=l),typeof c=="function"?(this.#o=c,this.#p=[]):(this.#o=void 0,this.#p=void 0),this.#b=!!this.#i,this.#c=!!this.#o,this.noDisposeOnSet=!!u,this.noUpdateTTL=!!f,this.noDeleteOnFetchRejection=!!g,this.allowStaleOnFetchRejection=!!S,this.allowStaleOnFetchAbort=!!O,this.ignoreFetchAbort=!!x,this.maxEntrySize!==0){if(this.#r!==0&&!Tt(this.#r))throw new TypeError("maxSize must be a positive integer if specified");if(!Tt(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#k()}if(this.allowStale=!!a,this.noDeleteOnStaleGet=!!_,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!h,this.ttlResolution=Tt(r)||r===0?r:1,this.ttlAutopurge=!!n,this.ttl=s||0,this.ttl){if(!Tt(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#C()}if(this.#e===0&&this.ttl===0&&this.#r===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#e&&!this.#r){let et="LRU_CACHE_UNBOUNDED";Rl(et)&&(yn.add(et),bn("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",et,ne))}}getRemainingTTL(t){return this.#h.has(t)?1/0:0}#C(){let t=new zt(this.#e),e=new zt(this.#e);this.#O=t,this.#P=e,this.#s=(n,o,h=re.now())=>{if(e[n]=o!==0?h:0,t[n]=o,o!==0&&this.ttlAutopurge){let a=setTimeout(()=>{this.#w(n)&&this.delete(this.#n[n])},o+1);a.unref&&a.unref()}},this.#T=n=>{e[n]=t[n]!==0?re.now():0},this.#v=(n,o)=>{if(t[o]){let h=t[o],a=e[o];n.ttl=h,n.start=a,n.now=s||r();let l=n.now-a;n.remainingTTL=h-l}};let s=0,r=()=>{let n=re.now();if(this.ttlResolution>0){s=n;let o=setTimeout(()=>s=0,this.ttlResolution);o.unref&&o.unref()}return n};this.getRemainingTTL=n=>{let o=this.#h.get(n);if(o===void 0)return 0;let h=t[o],a=e[o];if(h===0||a===0)return 1/0;let l=(s||r())-a;return h-l},this.#w=n=>t[n]!==0&&e[n]!==0&&(s||r())-e[n]>t[n]}#T=()=>{};#v=()=>{};#s=()=>{};#w=()=>!1;#k(){let t=new zt(this.#e);this.#d=0,this.#x=t,this.#S=e=>{this.#d-=t[e],t[e]=0},this.#L=(e,s,r,n)=>{if(this.#a(s))return 0;if(!Tt(r))if(n){if(typeof n!="function")throw new TypeError("sizeCalculation must be a function");if(r=n(s,e),!Tt(r))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return r},this.#N=(e,s,r)=>{if(t[e]=s,this.#r){let n=this.#r-t[e];for(;this.#d>n;)this.#M(!0)}this.#d+=t[e],r&&(r.entrySize=s,r.totalCalculatedSize=this.#d)}}#S=t=>{};#N=(t,e,s)=>{};#L=(t,e,s,r)=>{if(s||r)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#_({allowStale:t=this.allowStale}={}){if(this.#l)for(let e=this.#f;!(!this.#F(e)||((t||!this.#w(e))&&(yield e),e===this.#m));)e=this.#y[e]}*#A({allowStale:t=this.allowStale}={}){if(this.#l)for(let e=this.#m;!(!this.#F(e)||((t||!this.#w(e))&&(yield e),e===this.#f));)e=this.#g[e]}#F(t){return t!==void 0&&this.#h.get(this.#n[t])===t}*entries(){for(let t of this.#_())this.#t[t]!==void 0&&this.#n[t]!==void 0&&!this.#a(this.#t[t])&&(yield[this.#n[t],this.#t[t]])}*rentries(){for(let t of this.#A())this.#t[t]!==void 0&&this.#n[t]!==void 0&&!this.#a(this.#t[t])&&(yield[this.#n[t],this.#t[t]])}*keys(){for(let t of this.#_()){let e=this.#n[t];e!==void 0&&!this.#a(this.#t[t])&&(yield e)}}*rkeys(){for(let t of this.#A()){let e=this.#n[t];e!==void 0&&!this.#a(this.#t[t])&&(yield e)}}*values(){for(let t of this.#_())this.#t[t]!==void 0&&!this.#a(this.#t[t])&&(yield this.#t[t])}*rvalues(){for(let t of this.#A())this.#t[t]!==void 0&&!this.#a(this.#t[t])&&(yield this.#t[t])}[Symbol.iterator](){return this.entries()}find(t,e={}){for(let s of this.#_()){let r=this.#t[s],n=this.#a(r)?r.__staleWhileFetching:r;if(n!==void 0&&t(n,this.#n[s],this))return this.get(this.#n[s],e)}}forEach(t,e=this){for(let s of this.#_()){let r=this.#t[s],n=this.#a(r)?r.__staleWhileFetching:r;n!==void 0&&t.call(e,n,this.#n[s],this)}}rforEach(t,e=this){for(let s of this.#A()){let r=this.#t[s],n=this.#a(r)?r.__staleWhileFetching:r;n!==void 0&&t.call(e,n,this.#n[s],this)}}purgeStale(){let t=!1;for(let e of this.#A({allowStale:!0}))this.#w(e)&&(this.delete(this.#n[e]),t=!0);return t}dump(){let t=[];for(let e of this.#_({allowStale:!0})){let s=this.#n[e],r=this.#t[e],n=this.#a(r)?r.__staleWhileFetching:r;if(n===void 0||s===void 0)continue;let o={value:n};if(this.#O&&this.#P){o.ttl=this.#O[e];let h=re.now()-this.#P[e];o.start=Math.floor(Date.now()-h)}this.#x&&(o.size=this.#x[e]),t.unshift([s,o])}return t}load(t){this.clear();for(let[e,s]of t){if(s.start){let r=Date.now()-s.start;s.start=re.now()-r}this.set(e,s.value,s)}}set(t,e,s={}){var f,m,v;if(e===void 0)return this.delete(t),this;let{ttl:r=this.ttl,start:n,noDisposeOnSet:o=this.noDisposeOnSet,sizeCalculation:h=this.sizeCalculation,status:a}=s,{noUpdateTTL:l=this.noUpdateTTL}=s,c=this.#L(t,e,s.size||0,h);if(this.maxEntrySize&&c>this.maxEntrySize)return a&&(a.set="miss",a.maxEntrySizeExceeded=!0),this.delete(t),this;let u=this.#l===0?void 0:this.#h.get(t);if(u===void 0)u=this.#l===0?this.#f:this.#E.length!==0?this.#E.pop():this.#l===this.#e?this.#M(!1):this.#l,this.#n[u]=t,this.#t[u]=e,this.#h.set(t,u),this.#g[this.#f]=u,this.#y[u]=this.#f,this.#f=u,this.#l++,this.#N(u,c,a),a&&(a.set="add"),l=!1;else{this.#j(u);let d=this.#t[u];if(e!==d){if(this.#R&&this.#a(d)?d.__abortController.abort(new Error("replaced")):o||(this.#b&&((f=this.#i)==null||f.call(this,d,t,"set")),this.#c&&((m=this.#p)==null||m.push([d,t,"set"]))),this.#S(u),this.#N(u,c,a),this.#t[u]=e,a){a.set="replace";let w=d&&this.#a(d)?d.__staleWhileFetching:d;w!==void 0&&(a.oldValue=w)}}else a&&(a.set="update")}if(r!==0&&!this.#O&&this.#C(),this.#O&&(l||this.#s(u,r,n),a&&this.#v(a,u)),!o&&this.#c&&this.#p){let d=this.#p,w;for(;w=d==null?void 0:d.shift();)(v=this.#o)==null||v.call(this,...w)}return this}pop(){var t;try{for(;this.#l;){let e=this.#t[this.#m];if(this.#M(!0),this.#a(e)){if(e.__staleWhileFetching)return e.__staleWhileFetching}else if(e!==void 0)return e}}finally{if(this.#c&&this.#p){let e=this.#p,s;for(;s=e==null?void 0:e.shift();)(t=this.#o)==null||t.call(this,...s)}}}#M(t){var n,o;let e=this.#m,s=this.#n[e],r=this.#t[e];return this.#R&&this.#a(r)?r.__abortController.abort(new Error("evicted")):(this.#b||this.#c)&&(this.#b&&((n=this.#i)==null||n.call(this,r,s,"evict")),this.#c&&((o=this.#p)==null||o.push([r,s,"evict"]))),this.#S(e),t&&(this.#n[e]=void 0,this.#t[e]=void 0,this.#E.push(e)),this.#l===1?(this.#m=this.#f=0,this.#E.length=0):this.#m=this.#g[e],this.#h.delete(s),this.#l--,e}has(t,e={}){let{updateAgeOnHas:s=this.updateAgeOnHas,status:r}=e,n=this.#h.get(t);if(n!==void 0){let o=this.#t[n];if(this.#a(o)&&o.__staleWhileFetching===void 0)return!1;if(this.#w(n))r&&(r.has="stale",this.#v(r,n));else return s&&this.#T(n),r&&(r.has="hit",this.#v(r,n)),!0}else r&&(r.has="miss");return!1}peek(t,e={}){let{allowStale:s=this.allowStale}=e,r=this.#h.get(t);if(r!==void 0&&(s||!this.#w(r))){let n=this.#t[r];return this.#a(n)?n.__staleWhileFetching:n}}#D(t,e,s,r){let n=e===void 0?void 0:this.#t[e];if(this.#a(n))return n;let o=new Xe,{signal:h}=s;h==null||h.addEventListener("abort",()=>o.abort(h.reason),{signal:o.signal});let a={signal:o.signal,options:s,context:r},l=(d,w=!1)=>{let{aborted:g}=o.signal,_=s.ignoreFetchAbort&&d!==void 0;if(s.status&&(g&&!w?(s.status.fetchAborted=!0,s.status.fetchError=o.signal.reason,_&&(s.status.fetchAbortIgnored=!0)):s.status.fetchResolved=!0),g&&!_&&!w)return u(o.signal.reason);let S=m;return this.#t[e]===m&&(d===void 0?S.__staleWhileFetching?this.#t[e]=S.__staleWhileFetching:this.delete(t):(s.status&&(s.status.fetchUpdated=!0),this.set(t,d,a.options))),d},c=d=>(s.status&&(s.status.fetchRejected=!0,s.status.fetchError=d),u(d)),u=d=>{let{aborted:w}=o.signal,g=w&&s.allowStaleOnFetchAbort,_=g||s.allowStaleOnFetchRejection,S=_||s.noDeleteOnFetchRejection,O=m;if(this.#t[e]===m&&(!S||O.__staleWhileFetching===void 0?this.delete(t):g||(this.#t[e]=O.__staleWhileFetching)),_)return s.status&&O.__staleWhileFetching!==void 0&&(s.status.returnedStale=!0),O.__staleWhileFetching;if(O.__returned===O)throw d},f=(d,w)=>{var _;let g=(_=this.#u)==null?void 0:_.call(this,t,n,a);g&&g instanceof Promise&&g.then(S=>d(S),w),o.signal.addEventListener("abort",()=>{(!s.ignoreFetchAbort||s.allowStaleOnFetchAbort)&&(d(),s.allowStaleOnFetchAbort&&(d=S=>l(S,!0)))})};s.status&&(s.status.fetchDispatched=!0);let m=new Promise(f).then(l,c),v=Object.assign(m,{__abortController:o,__staleWhileFetching:n,__returned:void 0});return e===void 0?(this.set(t,v,{...a.options,status:void 0}),e=this.#h.get(t)):this.#t[e]=v,v}#a(t){if(!this.#R)return!1;let e=t;return!!e&&e instanceof Promise&&e.hasOwnProperty("__staleWhileFetching")&&e.__abortController instanceof Xe}async fetch(t,e={}){let{allowStale:s=this.allowStale,updateAgeOnGet:r=this.updateAgeOnGet,noDeleteOnStaleGet:n=this.noDeleteOnStaleGet,ttl:o=this.ttl,noDisposeOnSet:h=this.noDisposeOnSet,size:a=0,sizeCalculation:l=this.sizeCalculation,noUpdateTTL:c=this.noUpdateTTL,noDeleteOnFetchRejection:u=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:f=this.allowStaleOnFetchRejection,ignoreFetchAbort:m=this.ignoreFetchAbort,allowStaleOnFetchAbort:v=this.allowStaleOnFetchAbort,context:d,forceRefresh:w=!1,status:g,signal:_}=e;if(!this.#R)return g&&(g.fetch="get"),this.get(t,{allowStale:s,updateAgeOnGet:r,noDeleteOnStaleGet:n,status:g});let S={allowStale:s,updateAgeOnGet:r,noDeleteOnStaleGet:n,ttl:o,noDisposeOnSet:h,size:a,sizeCalculation:l,noUpdateTTL:c,noDeleteOnFetchRejection:u,allowStaleOnFetchRejection:f,allowStaleOnFetchAbort:v,ignoreFetchAbort:m,status:g,signal:_},O=this.#h.get(t);if(O===void 0){g&&(g.fetch="miss");let x=this.#D(t,O,S,d);return x.__returned=x}else{let x=this.#t[O];if(this.#a(x)){let Te=s&&x.__staleWhileFetching!==void 0;return g&&(g.fetch="inflight",Te&&(g.returnedStale=!0)),Te?x.__staleWhileFetching:x.__returned=x}let j=this.#w(O);if(!w&&!j)return g&&(g.fetch="hit"),this.#j(O),r&&this.#T(O),g&&this.#v(g,O),x;let et=this.#D(t,O,S,d),rt=et.__staleWhileFetching!==void 0&&s;return g&&(g.fetch=j?"stale":"refresh",rt&&j&&(g.returnedStale=!0)),rt?et.__staleWhileFetching:et.__returned=et}}get(t,e={}){let{allowStale:s=this.allowStale,updateAgeOnGet:r=this.updateAgeOnGet,noDeleteOnStaleGet:n=this.noDeleteOnStaleGet,status:o}=e,h=this.#h.get(t);if(h!==void 0){let a=this.#t[h],l=this.#a(a);return o&&this.#v(o,h),this.#w(h)?(o&&(o.get="stale"),l?(o&&s&&a.__staleWhileFetching!==void 0&&(o.returnedStale=!0),s?a.__staleWhileFetching:void 0):(n||this.delete(t),o&&s&&(o.returnedStale=!0),s?a:void 0)):(o&&(o.get="hit"),l?a.__staleWhileFetching:(this.#j(h),r&&this.#T(h),a))}else o&&(o.get="miss")}#B(t,e){this.#y[e]=t,this.#g[t]=e}#j(t){t!==this.#f&&(t===this.#m?this.#m=this.#g[t]:this.#B(this.#y[t],this.#g[t]),this.#B(this.#f,t),this.#f=t)}delete(t){var s,r,n,o;let e=!1;if(this.#l!==0){let h=this.#h.get(t);if(h!==void 0)if(e=!0,this.#l===1)this.clear();else{this.#S(h);let a=this.#t[h];this.#a(a)?a.__abortController.abort(new Error("deleted")):(this.#b||this.#c)&&(this.#b&&((s=this.#i)==null||s.call(this,a,t,"delete")),this.#c&&((r=this.#p)==null||r.push([a,t,"delete"]))),this.#h.delete(t),this.#n[h]=void 0,this.#t[h]=void 0,h===this.#f?this.#f=this.#y[h]:h===this.#m?this.#m=this.#g[h]:(this.#g[this.#y[h]]=this.#g[h],this.#y[this.#g[h]]=this.#y[h]),this.#l--,this.#E.push(h)}}if(this.#c&&((n=this.#p)!=null&&n.length)){let h=this.#p,a;for(;a=h==null?void 0:h.shift();)(o=this.#o)==null||o.call(this,...a)}return e}clear(){var t,e,s;for(let r of this.#A({allowStale:!0})){let n=this.#t[r];if(this.#a(n))n.__abortController.abort(new Error("deleted"));else{let o=this.#n[r];this.#b&&((t=this.#i)==null||t.call(this,n,o,"delete")),this.#c&&((e=this.#p)==null||e.push([n,o,"delete"]))}}if(this.#h.clear(),this.#t.fill(void 0),this.#n.fill(void 0),this.#O&&this.#P&&(this.#O.fill(0),this.#P.fill(0)),this.#x&&this.#x.fill(0),this.#m=0,this.#f=0,this.#E.length=0,this.#d=0,this.#l=0,this.#c&&this.#p){let r=this.#p,n;for(;n=r==null?void 0:r.shift();)(s=this.#o)==null||s.call(this,...n)}}};Qe.LRUCache=ne});var li=T(kn=>{"use strict";var _n=typeof process=="object"&&process?process:{stdout:null,stderr:null},Al=require("events"),En=require("stream"),xl=require("string_decoder"),On=xl.StringDecoder,dt=Symbol("EOF"),pt=Symbol("maybeEmitEnd"),Rt=Symbol("emittedEnd"),Ze=Symbol("emittingEnd"),oe=Symbol("emittedError"),ts=Symbol("closed"),Tn=Symbol("read"),es=Symbol("flush"),Rn=Symbol("flushChunk"),J=Symbol("encoding"),mt=Symbol("decoder"),ss=Symbol("flowing"),ae=Symbol("paused"),Ht=Symbol("resume"),k=Symbol("buffer"),ot=Symbol("pipes"),I=Symbol("bufferLength"),si=Symbol("bufferPush"),ii=Symbol("bufferShift"),q=Symbol("objectMode"),M=Symbol("destroyed"),ri=Symbol("error"),ni=Symbol("emitData"),An=Symbol("emitEnd"),oi=Symbol("emitEnd2"),gt=Symbol("async"),ai=Symbol("abort"),is=Symbol("aborted"),Mt=Symbol("signal"),he=i=>Promise.resolve().then(i),Cn=global._MP_NO_ITERATOR_SYMBOLS_!=="1",xn=Cn&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),Pn=Cn&&Symbol.iterator||Symbol("iterator not implemented"),Pl=i=>i==="end"||i==="finish"||i==="prefinish",Cl=i=>i instanceof ArrayBuffer||typeof i=="object"&&i.constructor&&i.constructor.name==="ArrayBuffer"&&i.byteLength>=0,kl=i=>!Buffer.isBuffer(i)&&ArrayBuffer.isView(i),rs=class{constructor(t,e,s){this.src=t,this.dest=e,this.opts=s,this.ondrain=()=>t[Ht](),e.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},hi=class extends rs{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(t,e,s){super(t,e,s),this.proxyErrors=r=>e.emit("error",r),t.on("error",this.proxyErrors)}},le=class extends En{constructor(t){super(),this[ss]=!1,this[ae]=!1,this[ot]=[],this[k]=[],this[q]=t&&t.objectMode||!1,this[q]?this[J]=null:this[J]=t&&t.encoding||null,this[J]==="buffer"&&(this[J]=null),this[gt]=t&&!!t.async||!1,this[mt]=this[J]?new On(this[J]):null,this[dt]=!1,this[Rt]=!1,this[Ze]=!1,this[ts]=!1,this[oe]=null,this.writable=!0,this.readable=!0,this[I]=0,this[M]=!1,t&&t.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[k]}),t&&t.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[ot]}),this[Mt]=t&&t.signal,this[is]=!1,this[Mt]&&(this[Mt].addEventListener("abort",()=>this[ai]()),this[Mt].aborted&&this[ai]())}get bufferLength(){return this[I]}get encoding(){return this[J]}set encoding(t){if(this[q])throw new Error("cannot set encoding in objectMode");if(this[J]&&t!==this[J]&&(this[mt]&&this[mt].lastNeed||this[I]))throw new Error("cannot change encoding");this[J]!==t&&(this[mt]=t?new On(t):null,this[k].length&&(this[k]=this[k].map(e=>this[mt].write(e)))),this[J]=t}setEncoding(t){this.encoding=t}get objectMode(){return this[q]}set objectMode(t){this[q]=this[q]||!!t}get async(){return this[gt]}set async(t){this[gt]=this[gt]||!!t}[ai](){this[is]=!0,this.emit("abort",this[Mt].reason),this.destroy(this[Mt].reason)}get aborted(){return this[is]}set aborted(t){}write(t,e,s){if(this[is])return!1;if(this[dt])throw new Error("write after end");if(this[M])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof e=="function"&&(s=e,e="utf8"),e||(e="utf8");let r=this[gt]?he:n=>n();return!this[q]&&!Buffer.isBuffer(t)&&(kl(t)?t=Buffer.from(t.buffer,t.byteOffset,t.byteLength):Cl(t)?t=Buffer.from(t):typeof t!="string"&&(this.objectMode=!0)),this[q]?(this.flowing&&this[I]!==0&&this[es](!0),this.flowing?this.emit("data",t):this[si](t),this[I]!==0&&this.emit("readable"),s&&r(s),this.flowing):t.length?(typeof t=="string"&&!(e===this[J]&&!this[mt].lastNeed)&&(t=Buffer.from(t,e)),Buffer.isBuffer(t)&&this[J]&&(t=this[mt].write(t)),this.flowing&&this[I]!==0&&this[es](!0),this.flowing?this.emit("data",t):this[si](t),this[I]!==0&&this.emit("readable"),s&&r(s),this.flowing):(this[I]!==0&&this.emit("readable"),s&&r(s),this.flowing)}read(t){if(this[M])return null;if(this[I]===0||t===0||t>this[I])return this[pt](),null;this[q]&&(t=null),this[k].length>1&&!this[q]&&(this.encoding?this[k]=[this[k].join("")]:this[k]=[Buffer.concat(this[k],this[I])]);let e=this[Tn](t||null,this[k][0]);return this[pt](),e}[Tn](t,e){return t===e.length||t===null?this[ii]():(this[k][0]=e.slice(t),e=e.slice(0,t),this[I]-=t),this.emit("data",e),!this[k].length&&!this[dt]&&this.emit("drain"),e}end(t,e,s){return typeof t=="function"&&(s=t,t=null),typeof e=="function"&&(s=e,e="utf8"),t&&this.write(t,e),s&&this.once("end",s),this[dt]=!0,this.writable=!1,(this.flowing||!this[ae])&&this[pt](),this}[Ht](){this[M]||(this[ae]=!1,this[ss]=!0,this.emit("resume"),this[k].length?this[es]():this[dt]?this[pt]():this.emit("drain"))}resume(){return this[Ht]()}pause(){this[ss]=!1,this[ae]=!0}get destroyed(){return this[M]}get flowing(){return this[ss]}get paused(){return this[ae]}[si](t){this[q]?this[I]+=1:this[I]+=t.length,this[k].push(t)}[ii](){return this[q]?this[I]-=1:this[I]-=this[k][0].length,this[k].shift()}[es](t){do;while(this[Rn](this[ii]())&&this[k].length);!t&&!this[k].length&&!this[dt]&&this.emit("drain")}[Rn](t){return this.emit("data",t),this.flowing}pipe(t,e){if(this[M])return;let s=this[Rt];return e=e||{},t===_n.stdout||t===_n.stderr?e.end=!1:e.end=e.end!==!1,e.proxyErrors=!!e.proxyErrors,s?e.end&&t.end():(this[ot].push(e.proxyErrors?new hi(this,t,e):new rs(this,t,e)),this[gt]?he(()=>this[Ht]()):this[Ht]()),t}unpipe(t){let e=this[ot].find(s=>s.dest===t);e&&(this[ot].splice(this[ot].indexOf(e),1),e.unpipe())}addListener(t,e){return this.on(t,e)}on(t,e){let s=super.on(t,e);return t==="data"&&!this[ot].length&&!this.flowing?this[Ht]():t==="readable"&&this[I]!==0?super.emit("readable"):Pl(t)&&this[Rt]?(super.emit(t),this.removeAllListeners(t)):t==="error"&&this[oe]&&(this[gt]?he(()=>e.call(this,this[oe])):e.call(this,this[oe])),s}get emittedEnd(){return this[Rt]}[pt](){!this[Ze]&&!this[Rt]&&!this[M]&&this[k].length===0&&this[dt]&&(this[Ze]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[ts]&&this.emit("close"),this[Ze]=!1)}emit(t,e,...s){if(t!=="error"&&t!=="close"&&t!==M&&this[M])return;if(t==="data")return!this[q]&&!e?!1:this[gt]?he(()=>this[ni](e)):this[ni](e);if(t==="end")return this[An]();if(t==="close"){if(this[ts]=!0,!this[Rt]&&!this[M])return;let n=super.emit("close");return this.removeAllListeners("close"),n}else if(t==="error"){this[oe]=e,super.emit(ri,e);let n=!this[Mt]||this.listeners("error").length?super.emit("error",e):!1;return this[pt](),n}else if(t==="resume"){let n=super.emit("resume");return this[pt](),n}else if(t==="finish"||t==="prefinish"){let n=super.emit(t);return this.removeAllListeners(t),n}let r=super.emit(t,e,...s);return this[pt](),r}[ni](t){for(let s of this[ot])s.dest.write(t)===!1&&this.pause();let e=super.emit("data",t);return this[pt](),e}[An](){this[Rt]||(this[Rt]=!0,this.readable=!1,this[gt]?he(()=>this[oi]()):this[oi]())}[oi](){if(this[mt]){let e=this[mt].end();if(e){for(let s of this[ot])s.dest.write(e);super.emit("data",e)}}for(let e of this[ot])e.end();let t=super.emit("end");return this.removeAllListeners("end"),t}collect(){let t=[];this[q]||(t.dataLength=0);let e=this.promise();return this.on("data",s=>{t.push(s),this[q]||(t.dataLength+=s.length)}),e.then(()=>t)}concat(){return this[q]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(t=>this[q]?Promise.reject(new Error("cannot concat in objectMode")):this[J]?t.join(""):Buffer.concat(t,t.dataLength))}promise(){return new Promise((t,e)=>{this.on(M,()=>e(new Error("stream destroyed"))),this.on("error",s=>e(s)),this.on("end",()=>t())})}[xn](){let t=!1,e=()=>(this.pause(),t=!0,Promise.resolve({done:!0}));return{next:()=>{if(t)return e();let r=this.read();if(r!==null)return Promise.resolve({done:!1,value:r});if(this[dt])return e();let n=null,o=null,h=u=>{this.removeListener("data",a),this.removeListener("end",l),this.removeListener(M,c),e(),o(u)},a=u=>{this.removeListener("error",h),this.removeListener("end",l),this.removeListener(M,c),this.pause(),n({value:u,done:!!this[dt]})},l=()=>{this.removeListener("error",h),this.removeListener("data",a),this.removeListener(M,c),e(),n({done:!0})},c=()=>h(new Error("stream destroyed"));return new Promise((u,f)=>{o=f,n=u,this.once(M,c),this.once("error",h),this.once("end",l),this.once("data",a)})},throw:e,return:e,[xn](){return this}}}[Pn](){let t=!1,e=()=>(this.pause(),this.removeListener(ri,e),this.removeListener(M,e),this.removeListener("end",e),t=!0,{done:!0}),s=()=>{if(t)return e();let r=this.read();return r===null?e():{value:r}};return this.once("end",e),this.once(ri,e),this.once(M,e),{next:s,throw:e,return:e,[Pn](){return this}}}destroy(t){return this[M]?(t?this.emit("error",t):this.emit(M),this):(this[M]=!0,this[k].length=0,this[I]=0,typeof this.close=="function"&&!this[ts]&&this.close(),t?this.emit("error",t):this.emit(M),this)}static isStream(t){return!!t&&(t instanceof le||t instanceof En||t instanceof Al&&(typeof t.pipe=="function"||typeof t.write=="function"&&typeof t.end=="function"))}};kn.Minipass=le});var Vn=T(R=>{"use strict";var Ml=R&&R.__createBinding||(Object.create?function(i,t,e,s){s===void 0&&(s=e);var r=Object.getOwnPropertyDescriptor(t,e);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[e]}}),Object.defineProperty(i,s,r)}:function(i,t,e,s){s===void 0&&(s=e),i[s]=t[e]}),jl=R&&R.__setModuleDefault||(Object.create?function(i,t){Object.defineProperty(i,"default",{enumerable:!0,value:t})}:function(i,t){i.default=t}),Dl=R&&R.__importStar||function(i){if(i&&i.__esModule)return i;var t={};if(i!=null)for(var e in i)e!=="default"&&Object.prototype.hasOwnProperty.call(i,e)&&Ml(t,i,e);return jl(t,i),t};Object.defineProperty(R,"__esModule",{value:!0});R.PathScurry=R.Path=R.PathScurryDarwin=R.PathScurryPosix=R.PathScurryWin32=R.PathScurryBase=R.PathPosix=R.PathWin32=R.PathBase=R.ChildrenCache=R.ResolveCache=void 0;var Fn=Sn(),ls=require("path"),Nl=require("url"),Ll=Dl(require("fs")),ue=require("fs"),Fl=ue.realpathSync.native,ns=require("fs/promises"),Mn=li(),fe={lstatSync:ue.lstatSync,readdir:ue.readdir,readdirSync:ue.readdirSync,readlinkSync:ue.readlinkSync,realpathSync:Fl,promises:{lstat:ns.lstat,readdir:ns.readdir,readlink:ns.readlink,realpath:ns.realpath}},Bn=i=>!i||i===fe||i===Ll?fe:{...fe,...i,promises:{...fe.promises,...i.promises||{}}},In=/^\\\\\?\\([a-z]:)\\?$/i,Bl=i=>i.replace(/\//g,"\\").replace(In,"$1\\"),Il=/[\\\/]/,tt=0,Un=1,qn=2,at=4,Wn=6,$n=8,jt=10,Gn=12,Z=15,ce=~Z,ci=16,jn=32,de=64,it=128,os=256,hs=512,Dn=de|it|hs,Ul=1023,ui=i=>i.isFile()?$n:i.isDirectory()?at:i.isSymbolicLink()?jt:i.isCharacterDevice()?qn:i.isBlockDevice()?Wn:i.isSocket()?Gn:i.isFIFO()?Un:tt,Nn=new Map,pe=i=>{let t=Nn.get(i);if(t)return t;let e=i.normalize("NFKD");return Nn.set(i,e),e},Ln=new Map,as=i=>{let t=Ln.get(i);if(t)return t;let e=pe(i.toLowerCase());return Ln.set(i,e),e},me=class extends Fn.LRUCache{constructor(){super({max:256})}};R.ResolveCache=me;var cs=class extends Fn.LRUCache{constructor(t=16*1024){super({maxSize:t,sizeCalculation:e=>e.length+1})}};R.ChildrenCache=cs;var zn=Symbol("PathScurry setAsCwd"),W=class{name;root;roots;parent;nocase;#e;#r;get dev(){return this.#r}#i;get mode(){return this.#i}#o;get nlink(){return this.#o}#u;get uid(){return this.#u}#l;get gid(){return this.#l}#d;get rdev(){return this.#d}#h;get blksize(){return this.#h}#n;get ino(){return this.#n}#t;get size(){return this.#t}#g;get blocks(){return this.#g}#y;get atimeMs(){return this.#y}#m;get mtimeMs(){return this.#m}#f;get ctimeMs(){return this.#f}#E;get birthtimeMs(){return this.#E}#p;get atime(){return this.#p}#x;get mtime(){return this.#x}#P;get ctime(){return this.#P}#O;get birthtime(){return this.#O}#b;#R;#c;#C;#T;#v;#s;#w;#k;#S;get path(){return(this.parent||this).fullpath()}constructor(t,e=tt,s,r,n,o,h){this.name=t,this.#b=n?as(t):pe(t),this.#s=e&Ul,this.nocase=n,this.roots=r,this.root=s||this,this.#w=o,this.#c=h.fullpath,this.#T=h.relative,this.#v=h.relativePosix,this.parent=h.parent,this.parent?this.#e=this.parent.#e:this.#e=Bn(h.fs)}depth(){return this.#R!==void 0?this.#R:this.parent?this.#R=this.parent.depth()+1:this.#R=0}childrenCache(){return this.#w}resolve(t){if(!t)return this;let e=this.getRootString(t),r=t.substring(e.length).split(this.splitSep);return e?this.getRoot(e).#N(r):this.#N(r)}#N(t){let e=this;for(let s of t)e=e.child(s);return e}children(){let t=this.#w.get(this);if(t)return t;let e=Object.assign([],{provisional:0});return this.#w.set(this,e),this.#s&=~ci,e}child(t,e){if(t===""||t===".")return this;if(t==="..")return this.parent||this;let s=this.children(),r=this.nocase?as(t):pe(t);for(let a of s)if(a.#b===r)return a;let n=this.parent?this.sep:"",o=this.#c?this.#c+n+t:void 0,h=this.newChild(t,tt,{...e,parent:this,fullpath:o});return this.canReaddir()||(h.#s|=it),s.push(h),h}relative(){if(this.#T!==void 0)return this.#T;let t=this.name,e=this.parent;if(!e)return this.#T=this.name;let s=e.relative();return s+(!s||!e.parent?"":this.sep)+t}relativePosix(){if(this.sep==="/")return this.relative();if(this.#v!==void 0)return this.#v;let t=this.name,e=this.parent;if(!e)return this.#v=this.fullpathPosix();let s=e.relativePosix();return s+(!s||!e.parent?"":"/")+t}fullpath(){if(this.#c!==void 0)return this.#c;let t=this.name,e=this.parent;if(!e)return this.#c=this.name;let r=e.fullpath()+(e.parent?this.sep:"")+t;return this.#c=r}fullpathPosix(){if(this.#C!==void 0)return this.#C;if(this.sep==="/")return this.#C=this.fullpath();if(!this.parent){let r=this.fullpath().replace(/\\/g,"/");return/^[a-z]:\//i.test(r)?this.#C=`//?/${r}`:this.#C=r}let t=this.parent,e=t.fullpathPosix(),s=e+(!e||!t.parent?"":"/")+this.name;return this.#C=s}isUnknown(){return(this.#s&Z)===tt}isFile(){return(this.#s&Z)===$n}isDirectory(){return(this.#s&Z)===at}isCharacterDevice(){return(this.#s&Z)===qn}isBlockDevice(){return(this.#s&Z)===Wn}isFIFO(){return(this.#s&Z)===Un}isSocket(){return(this.#s&Z)===Gn}isSymbolicLink(){return(this.#s&jt)===jt}lstatCached(){return this.#s&jn?this:void 0}readlinkCached(){return this.#k}realpathCached(){return this.#S}readdirCached(){let t=this.children();return t.slice(0,t.provisional)}canReadlink(){if(this.#k)return!0;if(!this.parent)return!1;let t=this.#s&Z;return!(t!==tt&&t!==jt||this.#s&os||this.#s&it)}calledReaddir(){return!!(this.#s&ci)}isENOENT(){return!!(this.#s&it)}isNamed(t){return this.nocase?this.#b===as(t):this.#b===pe(t)}async readlink(){let t=this.#k;if(t)return t;if(this.canReadlink()&&this.parent)try{let e=await this.#e.promises.readlink(this.fullpath()),s=this.parent.resolve(e);if(s)return this.#k=s}catch(e){this.#B(e.code);return}}readlinkSync(){let t=this.#k;if(t)return t;if(this.canReadlink()&&this.parent)try{let e=this.#e.readlinkSync(this.fullpath()),s=this.parent.resolve(e);if(s)return this.#k=s}catch(e){this.#B(e.code);return}}#L(t){this.#s|=ci;for(let e=t.provisional;e<t.length;e++)t[e].#_()}#_(){this.#s&it||(this.#s=(this.#s|it)&ce,this.#A())}#A(){let t=this.children();t.provisional=0;for(let e of t)e.#_()}#F(){this.#s|=hs,this.#M()}#M(){if(this.#s&de)return;let t=this.#s;(t&Z)===at&&(t&=ce),this.#s=t|de,this.#A()}#D(t=""){t==="ENOTDIR"||t==="EPERM"?this.#M():t==="ENOENT"?this.#_():this.children().provisional=0}#a(t=""){t==="ENOTDIR"?this.parent.#M():t==="ENOENT"&&this.#_()}#B(t=""){let e=this.#s;e|=os,t==="ENOENT"&&(e|=it),(t==="EINVAL"||t==="UNKNOWN")&&(e&=ce),this.#s=e,t==="ENOTDIR"&&this.parent&&this.parent.#M()}#j(t,e){return this.#G(t,e)||this.#$(t,e)}#$(t,e){let s=ui(t),r=this.newChild(t.name,s,{parent:this}),n=r.#s&Z;return n!==at&&n!==jt&&n!==tt&&(r.#s|=de),e.unshift(r),e.provisional++,r}#G(t,e){for(let s=e.provisional;s<e.length;s++){let r=e[s];if((this.nocase?as(t.name):pe(t.name))===r.#b)return this.#z(t,r,s,e)}}#z(t,e,s,r){let n=e.name;return e.#s=e.#s&ce|ui(t),n!==t.name&&(e.name=t.name),s!==r.provisional&&(s===r.length-1?r.pop():r.splice(s,1),r.unshift(e)),r.provisional++,e}async lstat(){if(!(this.#s&it))try{return this.#W(await this.#e.promises.lstat(this.fullpath())),this}catch(t){this.#a(t.code)}}lstatSync(){if(!(this.#s&it))try{return this.#W(this.#e.lstatSync(this.fullpath())),this}catch(t){this.#a(t.code)}}#W(t){let{atime:e,atimeMs:s,birthtime:r,birthtimeMs:n,blksize:o,blocks:h,ctime:a,ctimeMs:l,dev:c,gid:u,ino:f,mode:m,mtime:v,mtimeMs:d,nlink:w,rdev:g,size:_,uid:S}=t;this.#p=e,this.#y=s,this.#O=r,this.#E=n,this.#h=o,this.#g=h,this.#P=a,this.#f=l,this.#r=c,this.#l=u,this.#n=f,this.#i=m,this.#x=v,this.#m=d,this.#o=w,this.#d=g,this.#t=_,this.#u=S;let O=ui(t);this.#s=this.#s&ce|O|jn,O!==tt&&O!==at&&O!==jt&&(this.#s|=de)}#U=[];#q=!1;#V(t){this.#q=!1;let e=this.#U.slice();this.#U.length=0,e.forEach(s=>s(null,t))}readdirCB(t,e=!1){if(!this.canReaddir()){e?t(null,[]):queueMicrotask(()=>t(null,[]));return}let s=this.children();if(this.calledReaddir()){let n=s.slice(0,s.provisional);e?t(null,n):queueMicrotask(()=>t(null,n));return}if(this.#U.push(t),this.#q)return;this.#q=!0;let r=this.fullpath();this.#e.readdir(r,{withFileTypes:!0},(n,o)=>{if(n)this.#D(n.code),s.provisional=0;else{for(let h of o)this.#j(h,s);this.#L(s)}this.#V(s.slice(0,s.provisional))})}#I;async readdir(){if(!this.canReaddir())return[];let t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);let e=this.fullpath();if(this.#I)await this.#I;else{let s=()=>{};this.#I=new Promise(r=>s=r);try{for(let r of await this.#e.promises.readdir(e,{withFileTypes:!0}))this.#j(r,t);this.#L(t)}catch(r){this.#D(r.code),t.provisional=0}this.#I=void 0,s()}return t.slice(0,t.provisional)}readdirSync(){if(!this.canReaddir())return[];let t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);let e=this.fullpath();try{for(let s of this.#e.readdirSync(e,{withFileTypes:!0}))this.#j(s,t);this.#L(t)}catch(s){this.#D(s.code),t.provisional=0}return t.slice(0,t.provisional)}canReaddir(){if(this.#s&Dn)return!1;let t=Z&this.#s;return t===tt||t===at||t===jt}shouldWalk(t,e){return(this.#s&at)===at&&!(this.#s&Dn)&&!t.has(this)&&(!e||e(this))}async realpath(){if(this.#S)return this.#S;if(!((hs|os|it)&this.#s))try{let t=await this.#e.promises.realpath(this.fullpath());return this.#S=this.resolve(t)}catch{this.#F()}}realpathSync(){if(this.#S)return this.#S;if(!((hs|os|it)&this.#s))try{let t=this.#e.realpathSync(this.fullpath());return this.#S=this.resolve(t)}catch{this.#F()}}[zn](t){if(t===this)return;let e=new Set([]),s=[],r=this;for(;r&&r.parent;)e.add(r),r.#T=s.join(this.sep),r.#v=s.join("/"),r=r.parent,s.push("..");for(r=t;r&&r.parent&&!e.has(r);)r.#T=void 0,r.#v=void 0,r=r.parent}};R.PathBase=W;var Dt=class extends W{sep="\\";splitSep=Il;constructor(t,e=tt,s,r,n,o,h){super(t,e,s,r,n,o,h)}newChild(t,e=tt,s={}){return new Dt(t,e,this.root,this.roots,this.nocase,this.childrenCache(),s)}getRootString(t){return ls.win32.parse(t).root}getRoot(t){if(t=Bl(t.toUpperCase()),t===this.root.name)return this.root;for(let[e,s]of Object.entries(this.roots))if(this.sameRoot(t,e))return this.roots[t]=s;return this.roots[t]=new we(t,this).root}sameRoot(t,e=this.root.name){return t=t.toUpperCase().replace(/\//g,"\\").replace(In,"$1\\"),t===e}};R.PathWin32=Dt;var Nt=class extends W{splitSep="/";sep="/";constructor(t,e=tt,s,r,n,o,h){super(t,e,s,r,n,o,h)}getRootString(t){return t.startsWith("/")?"/":""}getRoot(t){return this.root}newChild(t,e=tt,s={}){return new Nt(t,e,this.root,this.roots,this.nocase,this.childrenCache(),s)}};R.PathPosix=Nt;var ge=class{root;rootPath;roots;cwd;#e;#r;#i;nocase;#o;constructor(t=process.cwd(),e,s,{nocase:r,childrenCacheSize:n=16*1024,fs:o=fe}={}){this.#o=Bn(o),(t instanceof URL||t.startsWith("file://"))&&(t=(0,Nl.fileURLToPath)(t));let h=e.resolve(t);this.roots=Object.create(null),this.rootPath=this.parseRootPath(h),this.#e=new me,this.#r=new me,this.#i=new cs(n);let a=h.substring(this.rootPath.length).split(s);if(a.length===1&&!a[0]&&a.pop(),r===void 0)throw new TypeError("must provide nocase setting to PathScurryBase ctor");this.nocase=r,this.root=this.newRoot(this.#o),this.roots[this.rootPath]=this.root;let l=this.root,c=a.length-1,u=e.sep,f=this.rootPath,m=!1;for(let v of a){let d=c--;l=l.child(v,{relative:new Array(d).fill("..").join(u),relativePosix:new Array(d).fill("..").join("/"),fullpath:f+=(m?"":u)+v}),m=!0}this.cwd=l}depth(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.depth()}childrenCache(){return this.#i}resolve(...t){let e="";for(let n=t.length-1;n>=0;n--){let o=t[n];if(!(!o||o===".")&&(e=e?`${o}/${e}`:o,this.isAbsolute(o)))break}let s=this.#e.get(e);if(s!==void 0)return s;let r=this.cwd.resolve(e).fullpath();return this.#e.set(e,r),r}resolvePosix(...t){let e="";for(let n=t.length-1;n>=0;n--){let o=t[n];if(!(!o||o===".")&&(e=e?`${o}/${e}`:o,this.isAbsolute(o)))break}let s=this.#r.get(e);if(s!==void 0)return s;let r=this.cwd.resolve(e).fullpathPosix();return this.#r.set(e,r),r}relative(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.relative()}relativePosix(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.relativePosix()}basename(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.name}dirname(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),(t.parent||t).fullpath()}async readdir(t=this.cwd,e={withFileTypes:!0}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof W||(e=t,t=this.cwd);let{withFileTypes:s}=e;if(t.canReaddir()){let r=await t.readdir();return s?r:r.map(n=>n.name)}else return[]}readdirSync(t=this.cwd,e={withFileTypes:!0}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof W||(e=t,t=this.cwd);let{withFileTypes:s=!0}=e;return t.canReaddir()?s?t.readdirSync():t.readdirSync().map(r=>r.name):[]}async lstat(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.lstat()}lstatSync(t=this.cwd){return typeof t=="string"&&(t=this.cwd.resolve(t)),t.lstatSync()}async readlink(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof W||(e=t.withFileTypes,t=this.cwd);let s=await t.readlink();return e?s:s==null?void 0:s.fullpath()}readlinkSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof W||(e=t.withFileTypes,t=this.cwd);let s=t.readlinkSync();return e?s:s==null?void 0:s.fullpath()}async realpath(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof W||(e=t.withFileTypes,t=this.cwd);let s=await t.realpath();return e?s:s==null?void 0:s.fullpath()}realpathSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof W||(e=t.withFileTypes,t=this.cwd);let s=t.realpathSync();return e?s:s==null?void 0:s.fullpath()}async walk(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof W||(e=t,t=this.cwd);let{withFileTypes:s=!0,follow:r=!1,filter:n,walkFilter:o}=e,h=[];(!n||n(t))&&h.push(s?t:t.fullpath());let a=new Set,l=(u,f)=>{a.add(u),u.readdirCB((m,v)=>{if(m)return f(m);let d=v.length;if(!d)return f();let w=()=>{--d===0&&f()};for(let g of v)(!n||n(g))&&h.push(s?g:g.fullpath()),r&&g.isSymbolicLink()?g.realpath().then(_=>_!=null&&_.isUnknown()?_.lstat():_).then(_=>_!=null&&_.shouldWalk(a,o)?l(_,w):w()):g.shouldWalk(a,o)?l(g,w):w()},!0)},c=t;return new Promise((u,f)=>{l(c,m=>{if(m)return f(m);u(h)})})}walkSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof W||(e=t,t=this.cwd);let{withFileTypes:s=!0,follow:r=!1,filter:n,walkFilter:o}=e,h=[];(!n||n(t))&&h.push(s?t:t.fullpath());let a=new Set([t]);for(let l of a){let c=l.readdirSync();for(let u of c){(!n||n(u))&&h.push(s?u:u.fullpath());let f=u;if(u.isSymbolicLink()){if(!(r&&(f=u.realpathSync())))continue;f.isUnknown()&&f.lstatSync()}f.shouldWalk(a,o)&&a.add(f)}}return h}[Symbol.asyncIterator](){return this.iterate()}iterate(t=this.cwd,e={}){return typeof t=="string"?t=this.cwd.resolve(t):t instanceof W||(e=t,t=this.cwd),this.stream(t,e)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof W||(e=t,t=this.cwd);let{withFileTypes:s=!0,follow:r=!1,filter:n,walkFilter:o}=e;(!n||n(t))&&(yield s?t:t.fullpath());let h=new Set([t]);for(let a of h){let l=a.readdirSync();for(let c of l){(!n||n(c))&&(yield s?c:c.fullpath());let u=c;if(c.isSymbolicLink()){if(!(r&&(u=c.realpathSync())))continue;u.isUnknown()&&u.lstatSync()}u.shouldWalk(h,o)&&h.add(u)}}}stream(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof W||(e=t,t=this.cwd);let{withFileTypes:s=!0,follow:r=!1,filter:n,walkFilter:o}=e,h=new Mn.Minipass({objectMode:!0});(!n||n(t))&&h.write(s?t:t.fullpath());let a=new Set,l=[t],c=0,u=()=>{let f=!1;for(;!f;){let m=l.shift();if(!m){c===0&&h.end();return}c++,a.add(m);let v=(w,g,_=!1)=>{if(w)return h.emit("error",w);if(r&&!_){let S=[];for(let O of g)O.isSymbolicLink()&&S.push(O.realpath().then(x=>x!=null&&x.isUnknown()?x.lstat():x));if(S.length){Promise.all(S).then(()=>v(null,g,!0));return}}for(let S of g)S&&(!n||n(S))&&(h.write(s?S:S.fullpath())||(f=!0));c--;for(let S of g){let O=S.realpathCached()||S;O.shouldWalk(a,o)&&l.push(O)}f&&!h.flowing?h.once("drain",u):d||u()},d=!0;m.readdirCB(v,!0),d=!1}};return u(),h}streamSync(t=this.cwd,e={}){typeof t=="string"?t=this.cwd.resolve(t):t instanceof W||(e=t,t=this.cwd);let{withFileTypes:s=!0,follow:r=!1,filter:n,walkFilter:o}=e,h=new Mn.Minipass({objectMode:!0}),a=new Set;(!n||n(t))&&h.write(s?t:t.fullpath());let l=[t],c=0,u=()=>{let f=!1;for(;!f;){let m=l.shift();if(!m){c===0&&h.end();return}c++,a.add(m);let v=m.readdirSync();for(let d of v)(!n||n(d))&&(h.write(s?d:d.fullpath())||(f=!0));c--;for(let d of v){let w=d;if(d.isSymbolicLink()){if(!(r&&(w=d.realpathSync())))continue;w.isUnknown()&&w.lstatSync()}w.shouldWalk(a,o)&&l.push(w)}}f&&!h.flowing&&h.once("drain",u)};return u(),h}chdir(t=this.cwd){let e=this.cwd;this.cwd=typeof t=="string"?this.cwd.resolve(t):t,this.cwd[zn](e)}};R.PathScurryBase=ge;var we=class extends ge{sep="\\";constructor(t=process.cwd(),e={}){let{nocase:s=!0}=e;super(t,ls.win32,"\\",{...e,nocase:s}),this.nocase=s;for(let r=this.cwd;r;r=r.parent)r.nocase=this.nocase}parseRootPath(t){return ls.win32.parse(t).root.toUpperCase()}newRoot(t){return new Dt(this.rootPath,at,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")||t.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(t)}};R.PathScurryWin32=we;var ye=class extends ge{sep="/";constructor(t=process.cwd(),e={}){let{nocase:s=!1}=e;super(t,ls.posix,"/",{...e,nocase:s}),this.nocase=s}parseRootPath(t){return"/"}newRoot(t){return new Nt(this.rootPath,at,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")}};R.PathScurryPosix=ye;var us=class extends ye{constructor(t=process.cwd(),e={}){let{nocase:s=!0}=e;super(t,{...e,nocase:s})}};R.PathScurryDarwin=us;R.Path=process.platform==="win32"?Dt:Nt;R.PathScurry=process.platform==="win32"?we:process.platform==="darwin"?us:ye});var fi=T(fs=>{"use strict";Object.defineProperty(fs,"__esModule",{value:!0});fs.Pattern=void 0;var ql=ft(),Wl=i=>i.length>=1,$l=i=>i.length>=1,be=class{#e;#r;#i;length;#o;#u;#l;#d;#h;#n;#t=!0;constructor(t,e,s,r){if(!Wl(t))throw new TypeError("empty pattern list");if(!$l(e))throw new TypeError("empty glob list");if(e.length!==t.length)throw new TypeError("mismatched pattern list and glob list lengths");if(this.length=t.length,s<0||s>=this.length)throw new TypeError("index out of range");if(this.#e=t,this.#r=e,this.#i=s,this.#o=r,this.#i===0){if(this.isUNC()){let[n,o,h,a,...l]=this.#e,[c,u,f,m,...v]=this.#r;l[0]===""&&(l.shift(),v.shift());let d=[n,o,h,a,""].join("/"),w=[c,u,f,m,""].join("/");this.#e=[d,...l],this.#r=[w,...v],this.length=this.#e.length}else if(this.isDrive()||this.isAbsolute()){let[n,...o]=this.#e,[h,...a]=this.#r;o[0]===""&&(o.shift(),a.shift());let l=n+"/",c=h+"/";this.#e=[l,...o],this.#r=[c,...a],this.length=this.#e.length}}}pattern(){return this.#e[this.#i]}isString(){return typeof this.#e[this.#i]=="string"}isGlobstar(){return this.#e[this.#i]===ql.GLOBSTAR}isRegExp(){return this.#e[this.#i]instanceof RegExp}globString(){return this.#l=this.#l||(this.#i===0?this.isAbsolute()?this.#r[0]+this.#r.slice(1).join("/"):this.#r.join("/"):this.#r.slice(this.#i).join("/"))}hasMore(){return this.length>this.#i+1}rest(){return this.#u!==void 0?this.#u:this.hasMore()?(this.#u=new be(this.#e,this.#r,this.#i+1,this.#o),this.#u.#n=this.#n,this.#u.#h=this.#h,this.#u.#d=this.#d,this.#u):this.#u=null}isUNC(){let t=this.#e;return this.#h!==void 0?this.#h:this.#h=this.#o==="win32"&&this.#i===0&&t[0]===""&&t[1]===""&&typeof t[2]=="string"&&!!t[2]&&typeof t[3]=="string"&&!!t[3]}isDrive(){let t=this.#e;return this.#d!==void 0?this.#d:this.#d=this.#o==="win32"&&this.#i===0&&this.length>1&&typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0])}isAbsolute(){let t=this.#e;return this.#n!==void 0?this.#n:this.#n=t[0]===""&&t.length>1||this.isDrive()||this.isUNC()}root(){let t=this.#e[0];return typeof t=="string"&&this.isAbsolute()&&this.#i===0?t:""}checkFollowGlobstar(){return!(this.#i===0||!this.isGlobstar()||!this.#t)}markFollowGlobstar(){return this.#i===0||!this.isGlobstar()||!this.#t?!1:(this.#t=!1,!0)}};fs.Pattern=be});var Jn=T(ds=>{"use strict";Object.defineProperty(ds,"__esModule",{value:!0});ds.Ignore=void 0;var Hn=ft(),Gl=fi(),zl=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux",di=class{relative;relativeChildren;absolute;absoluteChildren;constructor(t,{nobrace:e,nocase:s,noext:r,noglobstar:n,platform:o=zl}){this.relative=[],this.absolute=[],this.relativeChildren=[],this.absoluteChildren=[];let h={dot:!0,nobrace:e,nocase:s,noext:r,noglobstar:n,optimizationLevel:2,platform:o,nocomment:!0,nonegate:!0};for(let a of t){let l=new Hn.Minimatch(a,h);for(let c=0;c<l.set.length;c++){let u=l.set[c],f=l.globParts[c],m=new Gl.Pattern(u,f,0,o),v=new Hn.Minimatch(m.globString(),h),d=f[f.length-1]==="**",w=m.isAbsolute();w?this.absolute.push(v):this.relative.push(v),d&&(w?this.absoluteChildren.push(v):this.relativeChildren.push(v))}}}ignored(t){let e=t.fullpath(),s=`${e}/`,r=t.relative()||".",n=`${r}/`;for(let o of this.relative)if(o.match(r)||o.match(n))return!0;for(let o of this.absolute)if(o.match(e)||o.match(s))return!0;return!1}childrenIgnored(t){let e=t.fullpath()+"/",s=(t.relative()||".")+"/";for(let r of this.relativeChildren)if(r.match(s))return!0;for(let r of this.absoluteChildren)r.match(e);return!1}};ds.Ignore=di});var Yn=T(ht=>{"use strict";Object.defineProperty(ht,"__esModule",{value:!0});ht.Processor=ht.SubWalks=ht.MatchRecord=ht.HasWalkedCache=void 0;var Kn=ft(),Jt=class{store;constructor(t=new Map){this.store=t}copy(){return new Jt(new Map(this.store))}hasWalked(t,e){var s;return(s=this.store.get(t.fullpath()))==null?void 0:s.has(e.globString())}storeWalked(t,e){let s=t.fullpath(),r=this.store.get(s);r?r.add(e.globString()):this.store.set(s,new Set([e.globString()]))}};ht.HasWalkedCache=Jt;var ps=class{store=new Map;add(t,e,s){let r=(e?2:0)|(s?1:0),n=this.store.get(t);this.store.set(t,n===void 0?r:r&n)}entries(){return[...this.store.entries()].map(([t,e])=>[t,!!(e&2),!!(e&1)])}};ht.MatchRecord=ps;var ms=class{store=new Map;add(t,e){if(!t.canReaddir())return;let s=this.store.get(t);s?s.find(r=>r.globString()===e.globString())||s.push(e):this.store.set(t,[e])}get(t){let e=this.store.get(t);if(!e)throw new Error("attempting to walk unknown path");return e}entries(){return this.keys().map(t=>[t,this.store.get(t)])}keys(){return[...this.store.keys()].filter(t=>t.canReaddir())}};ht.SubWalks=ms;var ve=class{hasWalkedCache;matches=new ps;subwalks=new ms;patterns;follow;dot;opts;constructor(t,e){this.opts=t,this.follow=!!t.follow,this.dot=!!t.dot,this.hasWalkedCache=e?e.copy():new Jt}processPatterns(t,e){this.patterns=e;let s=e.map(r=>[t,r]);for(let[r,n]of s){this.hasWalkedCache.storeWalked(r,n);let o=n.root(),h=n.isAbsolute()&&this.opts.absolute!==!1;if(o){r=r.resolve(o==="/"&&this.opts.root!==void 0?this.opts.root:o);let u=n.rest();if(u)n=u;else{this.matches.add(r,!0,!1);continue}}if(r.isENOENT())continue;let a,l,c=!1;for(;typeof(a=n.pattern())=="string"&&(l=n.rest());){let u=r.resolve(a);if(u.isUnknown()&&a!=="..")break;r=u,n=l,c=!0}if(a=n.pattern(),l=n.rest(),c){if(this.hasWalkedCache.hasWalked(r,n))continue;this.hasWalkedCache.storeWalked(r,n)}if(typeof a=="string"){if(l)this.subwalks.add(r,n);else{let u=a===".."||a===""||a===".";this.matches.add(r.resolve(a),h,u)}continue}else if(a===Kn.GLOBSTAR){(!r.isSymbolicLink()||this.follow||n.checkFollowGlobstar())&&this.subwalks.add(r,n);let u=l==null?void 0:l.pattern(),f=l==null?void 0:l.rest();if(!l||(u===""||u===".")&&!f)this.matches.add(r,h,u===""||u===".");else if(u===".."){let m=r.parent||r;f?this.hasWalkedCache.hasWalked(m,f)||this.subwalks.add(m,f):this.matches.add(m,h,!0)}}else a instanceof RegExp&&this.subwalks.add(r,n)}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new ve(this.opts,this.hasWalkedCache)}filterEntries(t,e){let s=this.subwalks.get(t),r=this.child();for(let n of e)for(let o of s){let h=o.isAbsolute(),a=o.pattern(),l=o.rest();a===Kn.GLOBSTAR?r.testGlobstar(n,o,l,h):a instanceof RegExp?r.testRegExp(n,a,l,h):r.testString(n,a,l,h)}return r}testGlobstar(t,e,s,r){if((this.dot||!t.name.startsWith("."))&&(e.hasMore()||this.matches.add(t,r,!1),t.canReaddir()&&(this.follow||!t.isSymbolicLink()?this.subwalks.add(t,e):t.isSymbolicLink()&&(s&&e.checkFollowGlobstar()?this.subwalks.add(t,s):e.markFollowGlobstar()&&this.subwalks.add(t,e)))),s){let n=s.pattern();if(typeof n=="string"&&n!==".."&&n!==""&&n!==".")this.testString(t,n,s.rest(),r);else if(n===".."){let o=t.parent||t;this.subwalks.add(o,s)}else n instanceof RegExp&&this.testRegExp(t,n,s.rest(),r)}}testRegExp(t,e,s,r){e.test(t.name)&&(s?this.subwalks.add(t,s):this.matches.add(t,r,!1))}testString(t,e,s,r){t.isNamed(e)&&(s?this.subwalks.add(t,s):this.matches.add(t,r,!1))}};ht.Processor=ve});var Zn=T(At=>{"use strict";Object.defineProperty(At,"__esModule",{value:!0});At.GlobStream=At.GlobWalker=At.GlobUtil=void 0;var Vl=li(),Xn=Jn(),Qn=Yn(),Hl=(i,t)=>typeof i=="string"?new Xn.Ignore([i],t):Array.isArray(i)?new Xn.Ignore(i,t):i,Se=class{path;patterns;opts;seen=new Set;paused=!1;aborted=!1;#e=[];#r;#i;signal;maxDepth;constructor(t,e,s){this.patterns=t,this.path=e,this.opts=s,this.#i=!s.posix&&s.platform==="win32"?"\\":"/",s.ignore&&(this.#r=Hl(s.ignore,s)),this.maxDepth=s.maxDepth||1/0,s.signal&&(this.signal=s.signal,this.signal.addEventListener("abort",()=>{this.#e.length=0}))}#o(t){var e,s;return this.seen.has(t)||!!((s=(e=this.#r)==null?void 0:e.ignored)!=null&&s.call(e,t))}#u(t){var e,s;return!!((s=(e=this.#r)==null?void 0:e.childrenIgnored)!=null&&s.call(e,t))}pause(){this.paused=!0}resume(){var e;if((e=this.signal)!=null&&e.aborted)return;this.paused=!1;let t;for(;!this.paused&&(t=this.#e.shift());)t()}onResume(t){var e;(e=this.signal)!=null&&e.aborted||(this.paused?this.#e.push(t):t())}async matchCheck(t,e){if(e&&this.opts.nodir)return;let s;if(this.opts.realpath){if(s=t.realpathCached()||await t.realpath(),!s)return;t=s}let r=t.isUnknown()||this.opts.stat;return this.matchCheckTest(r?await t.lstat():t,e)}matchCheckTest(t,e){return t&&(this.maxDepth===1/0||t.depth()<=this.maxDepth)&&(!e||t.canReaddir())&&(!this.opts.nodir||!t.isDirectory())&&!this.#o(t)?t:void 0}matchCheckSync(t,e){if(e&&this.opts.nodir)return;let s;if(this.opts.realpath){if(s=t.realpathCached()||t.realpathSync(),!s)return;t=s}let r=t.isUnknown()||this.opts.stat;return this.matchCheckTest(r?t.lstatSync():t,e)}matchFinish(t,e){if(this.#o(t))return;let s=this.opts.absolute===void 0?e:this.opts.absolute;this.seen.add(t);let r=this.opts.mark&&t.isDirectory()?this.#i:"";if(this.opts.withFileTypes)this.matchEmit(t);else if(s){let n=this.opts.posix?t.fullpathPosix():t.fullpath();this.matchEmit(n+r)}else{let n=this.opts.posix?t.relativePosix():t.relative(),o=this.opts.dotRelative&&!n.startsWith(".."+this.#i)?"."+this.#i:"";this.matchEmit(n?o+n+r:"."+r)}}async match(t,e,s){let r=await this.matchCheck(t,s);r&&this.matchFinish(r,e)}matchSync(t,e,s){let r=this.matchCheckSync(t,s);r&&this.matchFinish(r,e)}walkCB(t,e,s){var r;(r=this.signal)!=null&&r.aborted&&s(),this.walkCB2(t,e,new Qn.Processor(this.opts),s)}walkCB2(t,e,s,r){var h;if(this.#u(t))return r();if((h=this.signal)!=null&&h.aborted&&r(),this.paused){this.onResume(()=>this.walkCB2(t,e,s,r));return}s.processPatterns(t,e);let n=1,o=()=>{--n===0&&r()};for(let[a,l,c]of s.matches.entries())this.#o(a)||(n++,this.match(a,l,c).then(()=>o()));for(let a of s.subwalkTargets()){if(this.maxDepth!==1/0&&a.depth()>=this.maxDepth)continue;n++;let l=a.readdirCached();a.calledReaddir()?this.walkCB3(a,l,s,o):a.readdirCB((c,u)=>this.walkCB3(a,u,s,o),!0)}o()}walkCB3(t,e,s,r){s=s.filterEntries(t,e);let n=1,o=()=>{--n===0&&r()};for(let[h,a,l]of s.matches.entries())this.#o(h)||(n++,this.match(h,a,l).then(()=>o()));for(let[h,a]of s.subwalks.entries())n++,this.walkCB2(h,a,s.child(),o);o()}walkCBSync(t,e,s){var r;(r=this.signal)!=null&&r.aborted&&s(),this.walkCB2Sync(t,e,new Qn.Processor(this.opts),s)}walkCB2Sync(t,e,s,r){var h;if(this.#u(t))return r();if((h=this.signal)!=null&&h.aborted&&r(),this.paused){this.onResume(()=>this.walkCB2Sync(t,e,s,r));return}s.processPatterns(t,e);let n=1,o=()=>{--n===0&&r()};for(let[a,l,c]of s.matches.entries())this.#o(a)||this.matchSync(a,l,c);for(let a of s.subwalkTargets()){if(this.maxDepth!==1/0&&a.depth()>=this.maxDepth)continue;n++;let l=a.readdirSync();this.walkCB3Sync(a,l,s,o)}o()}walkCB3Sync(t,e,s,r){s=s.filterEntries(t,e);let n=1,o=()=>{--n===0&&r()};for(let[h,a,l]of s.matches.entries())this.#o(h)||this.matchSync(h,a,l);for(let[h,a]of s.subwalks.entries())n++,this.walkCB2Sync(h,a,s.child(),o);o()}};At.GlobUtil=Se;var pi=class extends Se{matches;constructor(t,e,s){super(t,e,s),this.matches=new Set}matchEmit(t){this.matches.add(t)}async walk(){var t;if((t=this.signal)!=null&&t.aborted)throw this.signal.reason;return this.path.isUnknown()&&await this.path.lstat(),await new Promise((e,s)=>{this.walkCB(this.path,this.patterns,()=>{var r;(r=this.signal)!=null&&r.aborted?s(this.signal.reason):e(this.matches)})}),this.matches}walkSync(){var t;if((t=this.signal)!=null&&t.aborted)throw this.signal.reason;return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>{var e;if((e=this.signal)!=null&&e.aborted)throw this.signal.reason}),this.matches}};At.GlobWalker=pi;var mi=class extends Se{results;constructor(t,e,s){super(t,e,s),this.results=new Vl.Minipass({signal:this.signal,objectMode:!0}),this.results.on("drain",()=>this.resume()),this.results.on("resume",()=>this.resume())}matchEmit(t){this.results.write(t),this.results.flowing||this.pause()}stream(){let t=this.path;return t.isUnknown()?t.lstat().then(()=>{this.walkCB(t,this.patterns,()=>this.results.end())}):this.walkCB(t,this.patterns,()=>this.results.end()),this.results}streamSync(){return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>this.results.end()),this.results}};At.GlobStream=mi});var wi=T(ys=>{"use strict";Object.defineProperty(ys,"__esModule",{value:!0});ys.Glob=void 0;var Jl=ft(),gs=Vn(),Kl=require("url"),Yl=fi(),ws=Zn(),Xl=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux",gi=class{absolute;cwd;root;dot;dotRelative;follow;ignore;magicalBraces;mark;matchBase;maxDepth;nobrace;nocase;nodir;noext;noglobstar;pattern;platform;realpath;scurry;stat;signal;windowsPathsNoEscape;withFileTypes;opts;patterns;constructor(t,e){if(this.withFileTypes=!!e.withFileTypes,this.signal=e.signal,this.follow=!!e.follow,this.dot=!!e.dot,this.dotRelative=!!e.dotRelative,this.nodir=!!e.nodir,this.mark=!!e.mark,e.cwd?(e.cwd instanceof URL||e.cwd.startsWith("file://"))&&(e.cwd=(0,Kl.fileURLToPath)(e.cwd)):this.cwd="",this.cwd=e.cwd||"",this.root=e.root,this.magicalBraces=!!e.magicalBraces,this.nobrace=!!e.nobrace,this.noext=!!e.noext,this.realpath=!!e.realpath,this.absolute=e.absolute,this.noglobstar=!!e.noglobstar,this.matchBase=!!e.matchBase,this.maxDepth=typeof e.maxDepth=="number"?e.maxDepth:1/0,this.stat=!!e.stat,this.ignore=e.ignore,this.withFileTypes&&this.absolute!==void 0)throw new Error("cannot set absolute and withFileTypes:true");if(typeof t=="string"&&(t=[t]),this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||e.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(t=t.map(a=>a.replace(/\\/g,"/"))),this.matchBase){if(e.noglobstar)throw new TypeError("base matching requires globstar");t=t.map(a=>a.includes("/")?a:`./**/${a}`)}if(this.pattern=t,this.platform=e.platform||Xl,this.opts={...e,platform:this.platform},e.scurry){if(this.scurry=e.scurry,e.nocase!==void 0&&e.nocase!==e.scurry.nocase)throw new Error("nocase option contradicts provided scurry option")}else{let a=e.platform==="win32"?gs.PathScurryWin32:e.platform==="darwin"?gs.PathScurryDarwin:e.platform?gs.PathScurryPosix:gs.PathScurry;this.scurry=new a(this.cwd,{nocase:e.nocase,fs:e.fs})}this.nocase=this.scurry.nocase;let s=this.platform==="darwin"||this.platform==="win32",r={...e,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:s,nocomment:!0,noext:this.noext,nonegate:!0,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug},n=this.pattern.map(a=>new Jl.Minimatch(a,r)),[o,h]=n.reduce((a,l)=>(a[0].push(...l.set),a[1].push(...l.globParts),a),[[],[]]);this.patterns=o.map((a,l)=>new Yl.Pattern(a,h[l],0,this.platform))}async walk(){return[...await new ws.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).walk()]}walkSync(){return[...new ws.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).walkSync()]}stream(){return new ws.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).stream()}streamSync(){return new ws.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}};ys.Glob=gi});var yi=T(bs=>{"use strict";Object.defineProperty(bs,"__esModule",{value:!0});bs.hasMagic=void 0;var Ql=ft(),Zl=(i,t={})=>{Array.isArray(i)||(i=[i]);for(let e of i)if(new Ql.Minimatch(e,t).hasMagic())return!0;return!1};bs.hasMagic=Zl});var io=T(E=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});E.glob=E.hasMagic=E.Glob=E.unescape=E.escape=E.sync=E.iterate=E.iterateSync=E.stream=E.streamSync=E.globIterate=E.globIterateSync=E.globSync=E.globStream=E.globStreamSync=void 0;var to=ft(),Lt=wi(),tc=yi();function _e(i,t={}){return new Lt.Glob(i,t).streamSync()}E.globStreamSync=_e;function bi(i,t={}){return new Lt.Glob(i,t).stream()}E.globStream=bi;function vi(i,t={}){return new Lt.Glob(i,t).walkSync()}E.globSync=vi;async function eo(i,t={}){return new Lt.Glob(i,t).walk()}function Ee(i,t={}){return new Lt.Glob(i,t).iterateSync()}E.globIterateSync=Ee;function Si(i,t={}){return new Lt.Glob(i,t).iterate()}E.globIterate=Si;E.streamSync=_e;E.stream=Object.assign(bi,{sync:_e});E.iterateSync=Ee;E.iterate=Object.assign(Si,{sync:Ee});E.sync=Object.assign(vi,{stream:_e,iterate:Ee});var so=ft();Object.defineProperty(E,"escape",{enumerable:!0,get:function(){return so.escape}});Object.defineProperty(E,"unescape",{enumerable:!0,get:function(){return so.unescape}});var ec=wi();Object.defineProperty(E,"Glob",{enumerable:!0,get:function(){return ec.Glob}});var sc=yi();Object.defineProperty(E,"hasMagic",{enumerable:!0,get:function(){return sc.hasMagic}});E.glob=Object.assign(eo,{glob:eo,globSync:vi,sync:E.sync,globStream:bi,stream:E.stream,globStreamSync:_e,streamSync:E.streamSync,globIterate:Si,iterate:E.iterate,globIterateSync:Ee,iterateSync:E.iterateSync,Glob:Lt.Glob,hasMagic:tc.hasMagic,escape:to.escape,unescape:to.unescape});E.glob.glob=E.glob});var co=T((Gu,lo)=>{var ro=require("path"),ic=xr(),{minimatch:rc}=ft(),nc=mn(),{glob:oc}=io();function ac(i){let t=[];for(let e of i){let s=e.match(/^!+/);s&&(e=e.slice(s[0].length)),e=e.replace(/^\/+/,"");let r=s&&s[0].length%2===1;t.push({pattern:e,negate:r})}return t}function no(i){let t=Array.isArray(i.packages)?i.packages:i;if(!Array.isArray(t))throw vs({message:"workspaces config expects an Array",code:"EWORKSPACESCONFIG"});return ac(t)}function oo(i,t){let{name:e}=i;return e||ic(t)}function ao(i){return(...t)=>{let e=i.cwd?i.cwd:process.cwd();return ro.join.apply(null,[e,...t])}}function hc(i){return i=i.replace(/\\/g,"/"),i.endsWith("/")?i:`${i}/`}function vs({Type:i=TypeError,message:t,code:e}){return Object.assign(new i(t),{code:e})}function lc(i){return new Map(Array.from(i,t=>t.reverse()))}async function ho(i={}){if(!i||!i.pkg)throw vs({message:"mapWorkspaces missing pkg info",code:"EMAPWORKSPACESPKG"});let{workspaces:t=[]}=i.pkg,e=no(t),s=new Map,r=new Map;if(!e.length)return s;let n=()=>({...i,ignore:[...i.ignore||[],"**/node_modules/**"]}),o=ao(i);for(let a of e){let l=await oc(hc(a.pattern),n());l=l.sort((c,u)=>c.localeCompare(u,"en"));for(let c of l){let u,f=o(c,"package.json"),m=ro.dirname(f);try{u=await nc(f)}catch(w){if(w.code==="ENOENT")continue;throw w}let v=oo(u,m),d=r.get(v);d||(d=new Set,r.set(v,d)),a.negate?d.delete(m):d.add(m)}}let h=["must not have multiple workspaces with the same name"];for(let[a,l]of r)l.size!==0&&(l.size>1?cc(h,a,l):s.set(a,l.values().next().value));if(h.length>1)throw vs({Type:Error,message:h.join(`
`),code:"EDUPLICATEWORKSPACE"});return s}function cc(i,t,e){i.push(`package '${t}' has conflicts in the following paths:`);for(let s of e)i.push("    "+s)}ho.virtual=function(i={}){if(!i||!i.lockfile)throw vs({message:"mapWorkspaces.virtual missing lockfile info",code:"EMAPWORKSPACESLOCKFILE"});let{packages:t={}}=i.lockfile,{workspaces:e=[]}=t[""]||{},s=new Map,r=no(e);if(!r.length)return s;r.push({pattern:"**/node_modules/**",negate:!0});let n=ao(i);for(let o of Object.keys(t))if(o!==""){for(let h of r)if(rc(o,h.pattern)){let a=n(o),l=oo(t[o],a);h.negate?s.delete(a):s.set(a,l)}}return lc(s)};lo.exports=ho});var po=T((zu,fo)=>{var{join:uc,relative:fc}=require("path"),dc=co(),uo=({root:i,workspaces:t})=>[i?"-iwr":"",...t.map(e=>`-w="${e.name}"`)].join(" ").trim(),pc=async({cwd:i,files:t,all:e})=>{let r=[...(await dc({cwd:i,pkg:require(uc(i,"package.json"))})).entries()].map(([h,a])=>({name:h,path:fc(i,a)}));if(e)return uo({root:!0,workspaces:r});let n=!1,o=new Set;for(let h of t){let a=!1;for(let l of r)if(a=h.startsWith(l.path),a){o.add(l);break}a||(n=!0)}return{flags:uo({root:n,workspaces:[...o.values()]})}};fo.exports=pc});var _i=Is(),mc=po(),mo=_i.getInput("files"),go=mo==="--all",gc=go?[]:JSON.parse(mo||"[]");module.exports=mc({cwd:process.env.GITHUB_WORKSPACE,files:gc,all:go}).then(i=>_i.setOutput("flags",i.flags)).catch(i=>{_i.setFailed(i)});
